2024-10-09 00:35:30.193 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 00:35:30.490 +03:00 [DBG] Hosting starting
2024-10-09 00:35:31.364 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 00:35:31.372 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 00:35:31.376 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 00:35:31.379 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 00:35:31.383 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 00:35:31.388 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 00:35:31.529 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 00:35:31.532 +03:00 [INF] Hosting environment: Development
2024-10-09 00:35:31.535 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 00:35:31.538 +03:00 [DBG] Hosting started
2024-10-09 00:43:42.497 +03:00 [DBG] Connection id "0HN77S93L4LMV" received FIN.
2024-10-09 00:43:42.512 +03:00 [DBG] Connection id "0HN77S93L4LMV" accepted.
2024-10-09 00:43:42.523 +03:00 [DBG] Connection id "0HN77S93L4LMV" started.
2024-10-09 00:43:42.530 +03:00 [DBG] Connection id "0HN77S93L4LN0" accepted.
2024-10-09 00:43:42.533 +03:00 [DBG] Connection id "0HN77S93L4LN0" started.
2024-10-09 00:43:42.573 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 00:43:42.695 +03:00 [DBG] Connection 0HN77S93L4LN0 established using the following protocol: "Tls12"
2024-10-09 00:43:42.697 +03:00 [DBG] Connection id "0HN77S93L4LMV" stopped.
2024-10-09 00:43:42.710 +03:00 [DBG] Connection id "0HN77S93L4LMV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 00:43:42.764 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-09 00:43:42.784 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 00:43:43.135 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 00:43:43.187 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-09 00:43:43.196 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-09 00:43:43.202 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 00:43:43.213 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 00:43:43.257 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-09 00:43:43.272 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 00:43:43.279 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 00:43:43.284 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 00:43:43.293 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 00:43:43.298 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 00:43:43.305 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 00:43:44.244 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 00:43:44.639 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 00:43:47.253 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 00:43:47.318 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-10-09 00:43:47.811 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 00:43:47.884 +03:00 [DBG] Creating DbConnection.
2024-10-09 00:43:47.924 +03:00 [DBG] Created DbConnection. (36ms).
2024-10-09 00:43:47.935 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 00:43:47.982 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:43:47.997 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 00:43:48.013 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-09 00:43:48.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-10-09 00:43:48.035 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-10-09 00:43:48.116 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-10-09 00:43:48.165 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 00:43:48.199 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 00:43:48.204 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 00:43:48.217 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:43:48.232 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 99ms reading results.
2024-10-09 00:43:48.246 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:43:48.255 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2024-10-09 00:43:48.296 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 00:43:48.324 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-09 00:43:48.331 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 00:43:48.335 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 00:43:48.679 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5366.7589ms
2024-10-09 00:43:48.685 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 00:43:48.688 +03:00 [DBG] Connection id "0HN77S93L4LN0" completed keep alive response.
2024-10-09 00:43:48.701 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 00:43:48.714 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 00:43:48.719 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 00:43:48.729 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 200 244 application/json; charset=utf-8 5975.4168ms
2024-10-09 00:57:18.720 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 00:57:19.051 +03:00 [DBG] Hosting starting
2024-10-09 00:57:19.585 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 00:57:19.590 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 00:57:19.596 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 00:57:19.601 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 00:57:19.610 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 00:57:19.616 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 00:57:19.900 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 00:57:20.005 +03:00 [INF] Hosting environment: Development
2024-10-09 00:57:20.017 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 00:57:20.019 +03:00 [DBG] Hosting started
2024-10-09 00:57:20.720 +03:00 [DBG] Connection id "0HN77SGNGADBR" received FIN.
2024-10-09 00:57:20.734 +03:00 [DBG] Connection id "0HN77SGNGADBR" accepted.
2024-10-09 00:57:20.749 +03:00 [DBG] Connection id "0HN77SGNGADBR" started.
2024-10-09 00:57:20.755 +03:00 [DBG] Connection id "0HN77SGNGADBS" accepted.
2024-10-09 00:57:20.760 +03:00 [DBG] Connection id "0HN77SGNGADBS" started.
2024-10-09 00:57:20.816 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 00:57:20.918 +03:00 [DBG] Connection id "0HN77SGNGADBR" stopped.
2024-10-09 00:57:20.920 +03:00 [DBG] Connection 0HN77SGNGADBS established using the following protocol: "Tls12"
2024-10-09 00:57:20.931 +03:00 [DBG] Connection id "0HN77SGNGADBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 00:57:20.994 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-09 00:57:21.021 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 00:57:21.114 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 00:57:21.194 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-09 00:57:21.216 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-09 00:57:21.248 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 00:57:21.263 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 00:57:21.330 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-09 00:57:21.342 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 00:57:21.350 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 00:57:21.355 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 00:57:21.367 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 00:57:21.372 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 00:57:21.388 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 00:57:21.821 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 00:57:22.265 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 00:57:24.211 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 00:57:24.314 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-10-09 00:57:25.029 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 00:57:25.115 +03:00 [DBG] Creating DbConnection.
2024-10-09 00:57:25.185 +03:00 [DBG] Created DbConnection. (60ms).
2024-10-09 00:57:25.222 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 00:57:25.266 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:25.284 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 00:57:25.304 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2024-10-09 00:57:25.314 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2024-10-09 00:57:25.340 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-10-09 00:57:25.429 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-10-09 00:57:25.633 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 00:57:25.927 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 00:57:25.937 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 00:57:25.966 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:25.986 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 530ms reading results.
2024-10-09 00:57:26.000 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:26.011 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (11ms).
2024-10-09 00:57:26.043 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 00:57:26.055 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-09 00:57:26.061 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 00:57:26.065 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 00:57:26.378 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4982.9652ms
2024-10-09 00:57:26.388 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 00:57:26.404 +03:00 [DBG] Connection id "0HN77SGNGADBS" completed keep alive response.
2024-10-09 00:57:26.425 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 00:57:26.441 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 00:57:26.451 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-09 00:57:26.461 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 200 244 application/json; charset=utf-8 5474.2301ms
2024-10-09 00:57:32.133 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - null null
2024-10-09 00:57:32.141 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 00:57:32.146 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-10-09 00:57:32.149 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-10-09 00:57:32.156 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 00:57:32.162 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 00:57:32.187 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 00:57:32.199 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 00:57:32.203 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 00:57:32.208 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 00:57:32.217 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 00:57:32.222 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 00:57:32.232 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 00:57:32.245 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 00:57:32.267 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 00:57:32.273 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 00:57:32.283 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 00:57:32.286 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 00:57:32.290 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 00:57:32.300 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 00:57:32.338 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 00:57:32.355 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 00:57:32.401 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 00:57:32.430 +03:00 [DBG] Creating DbConnection.
2024-10-09 00:57:32.432 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 00:57:32.436 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 00:57:32.441 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:32.448 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 00:57:32.452 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 00:57:32.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-09 00:57:32.481 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 00:57:32.500 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 00:57:32.511 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:32.515 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2024-10-09 00:57:32.520 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:32.524 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 00:57:32.535 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.Id == __cityId_0)'
2024-10-09 00:57:32.552 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.Id == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 00:57:32.565 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 00:57:32.567 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:32.571 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 00:57:32.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-09 00:57:32.582 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 00:57:32.585 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 00:57:32.623 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 00:57:32.639 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 00:57:32.654 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:32.657 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2024-10-09 00:57:32.666 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 00:57:32.671 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 00:57:32.698 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 00:57:32.709 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 00:57:32.714 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 00:57:32.718 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 00:57:32.722 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 00:57:32.729 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 00:57:32.739 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 506.359ms
2024-10-09 00:57:32.751 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 00:57:32.757 +03:00 [DBG] Connection id "0HN77SGNGADBS" completed keep alive response.
2024-10-09 00:57:32.763 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 00:57:32.770 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 00:57:32.775 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 00:57:32.785 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - 200 124 application/json; charset=utf-8 652.4435ms
2024-10-09 01:15:22.260 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 01:15:22.509 +03:00 [DBG] Hosting starting
2024-10-09 01:15:22.929 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 01:15:22.932 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 01:15:22.935 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 01:15:22.937 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 01:15:22.939 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 01:15:22.941 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 01:15:23.116 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 01:15:23.121 +03:00 [INF] Hosting environment: Development
2024-10-09 01:15:23.123 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 01:15:23.130 +03:00 [DBG] Hosting started
2024-10-09 01:15:53.091 +03:00 [DBG] Connection id "0HN77SR30N3IL" received FIN.
2024-10-09 01:15:53.101 +03:00 [DBG] Connection id "0HN77SR30N3IL" accepted.
2024-10-09 01:15:53.112 +03:00 [DBG] Connection id "0HN77SR30N3IL" started.
2024-10-09 01:15:53.118 +03:00 [DBG] Connection id "0HN77SR30N3IM" accepted.
2024-10-09 01:15:53.128 +03:00 [DBG] Connection id "0HN77SR30N3IM" started.
2024-10-09 01:15:53.160 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 01:15:53.262 +03:00 [DBG] Connection id "0HN77SR30N3IL" stopped.
2024-10-09 01:15:53.273 +03:00 [DBG] Connection id "0HN77SR30N3IL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 01:15:53.274 +03:00 [DBG] Connection 0HN77SR30N3IM established using the following protocol: "Tls12"
2024-10-09 01:15:53.333 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1?includePointsOfInterest=true - null null
2024-10-09 01:15:53.352 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 01:15:53.427 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:15:53.483 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-10-09 01:15:53.494 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-10-09 01:15:53.500 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-10-09 01:15:53.513 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-10-09 01:15:53.563 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-09 01:15:53.576 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:15:53.580 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:15:53.591 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:15:53.610 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:15:53.618 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:15:53.634 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 01:15:53.888 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 01:15:54.212 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 01:15:54.229 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-09 01:15:54.237 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-09 01:15:54.246 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-09 01:15:54.250 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-09 01:15:54.260 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-09 01:15:54.278 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-09 01:15:54.284 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-10-09 01:15:54.291 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2024-10-09 01:15:54.296 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-10-09 01:15:54.299 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-10-09 01:15:54.307 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-10-09 01:15:54.311 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-10-09 01:15:55.751 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:15:55.892 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-10-09 01:15:56.000 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2024-10-09 01:15:56.479 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:15:56.558 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:15:56.581 +03:00 [DBG] Created DbConnection. (19ms).
2024-10-09 01:15:56.593 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:15:56.621 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:15:56.631 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:15:56.646 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-10-09 01:15:56.662 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2024-10-09 01:15:56.697 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-10-09 01:15:56.786 +03:00 [INF] Executed DbCommand (108ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-10-09 01:15:56.835 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:15:56.916 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:15:56.932 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:15:56.946 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:15:56.962 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 155ms reading results.
2024-10-09 01:15:56.977 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:15:56.990 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-09 01:15:57.046 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:15:57.063 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-09 01:15:57.077 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:15:57.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2024-10-09 01:15:57.432 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3792.5393ms
2024-10-09 01:15:57.442 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-10-09 01:15:57.446 +03:00 [DBG] Connection id "0HN77SR30N3IM" completed keep alive response.
2024-10-09 01:15:57.469 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:15:57.486 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:15:57.499 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (13ms).
2024-10-09 01:15:57.515 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1?includePointsOfInterest=true - 200 356 application/json; charset=utf-8 4189.07ms
2024-10-09 01:16:08.269 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3?includePointsOfInterest=true - null null
2024-10-09 01:16:08.281 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:16:08.285 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2024-10-09 01:16:08.291 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2024-10-09 01:16:08.296 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-10-09 01:16:08.299 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-10-09 01:16:08.306 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-09 01:16:08.312 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:16:08.316 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:16:08.322 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:16:08.332 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:16:08.343 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:16:08.351 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 01:16:08.364 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 01:16:08.368 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-09 01:16:08.375 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-09 01:16:08.378 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-09 01:16:08.381 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-09 01:16:08.389 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-09 01:16:08.392 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-09 01:16:08.395 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-10-09 01:16:08.398 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2024-10-09 01:16:08.407 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-10-09 01:16:08.410 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-10-09 01:16:08.414 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-10-09 01:16:08.417 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-10-09 01:16:08.456 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:16:08.495 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:16:08.497 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 01:16:08.500 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:16:08.505 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:08.510 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:16:08.513 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 01:16:08.517 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-09 01:16:08.522 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-10-09 01:16:08.532 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-10-09 01:16:08.547 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:16:08.559 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:16:08.566 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:16:08.580 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:08.583 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 36ms reading results.
2024-10-09 01:16:08.591 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:08.594 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 01:16:08.599 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:16:08.612 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-09 01:16:08.616 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:16:08.619 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2024-10-09 01:16:08.629 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 278.5613ms
2024-10-09 01:16:08.633 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-10-09 01:16:08.641 +03:00 [DBG] Connection id "0HN77SR30N3IM" completed keep alive response.
2024-10-09 01:16:08.646 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:16:08.649 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:16:08.660 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (11ms).
2024-10-09 01:16:08.666 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3?includePointsOfInterest=true - 200 325 application/json; charset=utf-8 397.2281ms
2024-10-09 01:16:44.705 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest/7 - null null
2024-10-09 01:16:44.716 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:16:44.719 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2024-10-09 01:16:44.724 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2024-10-09 01:16:44.731 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:16:44.735 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:16:44.749 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:16:44.756 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:16:44.763 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:16:44.767 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:16:44.776 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:16:44.781 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:16:44.791 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:16:44.812 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:16:44.820 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:16:44.825 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:16:44.828 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:16:44.832 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:16:44.835 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:16:44.842 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:16:44.846 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 01:16:44.849 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 01:16:44.857 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:16:44.861 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:16:44.864 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 01:16:44.870 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:16:45.060 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:16:45.074 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 01:16:45.108 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:16:45.130 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:16:45.132 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 01:16:45.136 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:16:45.144 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:45.148 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:16:45.152 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 01:16:45.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-10-09 01:16:45.169 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:16:45.191 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:16:45.202 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:45.209 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 9ms reading results.
2024-10-09 01:16:45.217 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:45.227 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-09 01:16:45.253 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-10-09 01:16:45.269 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:16:45.300 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:16:45.303 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:45.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:16:45.314 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-09 01:16:45.318 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-09 01:16:45.324 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 01:16:45.332 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 01:16:45.346 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:45.350 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-10-09 01:16:45.359 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:16:45.364 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:16:45.370 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:16:45.385 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:16:45.390 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-09 01:16:45.401 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-09 01:16:45.408 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-09 01:16:45.479 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 689.0619ms
2024-10-09 01:16:45.527 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:16:45.530 +03:00 [DBG] Connection id "0HN77SR30N3IM" completed keep alive response.
2024-10-09 01:16:45.535 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:16:45.538 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:16:45.562 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (24ms).
2024-10-09 01:16:45.567 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest/7 - 404 162 application/problem+json; charset=utf-8 862.0657ms
2024-10-09 01:20:28.596 +03:00 [INF] Application is shutting down...
2024-10-09 01:20:28.598 +03:00 [DBG] Hosting stopping
2024-10-09 01:20:28.649 +03:00 [DBG] Connection id "0HN77SR30N3IM" disconnecting.
2024-10-09 01:20:28.655 +03:00 [DBG] Connection id "0HN77SR30N3IM" stopped.
2024-10-09 01:20:28.658 +03:00 [DBG] Connection id "0HN77SR30N3IM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 01:20:28.676 +03:00 [DBG] Hosting stopped
2024-10-09 01:30:43.780 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 01:30:44.034 +03:00 [DBG] Hosting starting
2024-10-09 01:30:44.725 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 01:30:44.728 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 01:30:44.731 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 01:30:44.734 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 01:30:44.736 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 01:30:44.739 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 01:30:45.050 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 01:30:45.067 +03:00 [INF] Hosting environment: Development
2024-10-09 01:30:45.071 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 01:30:45.074 +03:00 [DBG] Hosting started
2024-10-09 01:30:50.850 +03:00 [DBG] Connection id "0HN77T3EID9EM" received FIN.
2024-10-09 01:30:50.862 +03:00 [DBG] Connection id "0HN77T3EID9EM" accepted.
2024-10-09 01:30:50.868 +03:00 [DBG] Connection id "0HN77T3EID9EM" started.
2024-10-09 01:30:50.874 +03:00 [DBG] Connection id "0HN77T3EID9EN" accepted.
2024-10-09 01:30:50.879 +03:00 [DBG] Connection id "0HN77T3EID9EN" started.
2024-10-09 01:30:50.917 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 01:30:50.984 +03:00 [DBG] Connection id "0HN77T3EID9EM" stopped.
2024-10-09 01:30:51.007 +03:00 [DBG] Connection id "0HN77T3EID9EM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 01:30:51.020 +03:00 [DBG] Connection 0HN77T3EID9EN established using the following protocol: "Tls12"
2024-10-09 01:30:51.071 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - null null
2024-10-09 01:30:51.088 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 01:30:51.163 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:30:51.225 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-10-09 01:30:51.235 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-10-09 01:30:51.242 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:30:51.251 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:30:51.313 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:30:51.325 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:30:51.330 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:30:51.335 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:30:51.344 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:30:51.348 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:30:51.358 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:30:51.598 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 01:30:51.909 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:30:51.919 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:30:51.927 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:30:51.932 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:30:51.935 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:30:51.940 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:30:51.947 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:30:53.380 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:30:53.450 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 01:30:53.782 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:30:53.848 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:30:53.874 +03:00 [DBG] Created DbConnection. (20ms).
2024-10-09 01:30:53.882 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:30:53.911 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:30:53.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:30:53.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-10-09 01:30:53.949 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-10-09 01:30:53.980 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:30:54.020 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:30:54.043 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:30:54.057 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 19ms reading results.
2024-10-09 01:30:54.068 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:30:54.078 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-09 01:30:54.092 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.Id == __cityId_0)'
2024-10-09 01:30:54.167 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.Id == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 01:30:54.195 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:30:54.200 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:30:54.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:30:54.209 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-09 01:30:54.213 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 01:30:54.216 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 01:30:54.223 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 01:30:54.263 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:30:54.310 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:30:54.314 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 84ms reading results.
2024-10-09 01:30:54.319 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:30:54.324 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 01:30:54.377 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:30:54.395 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:30:54.398 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:30:54.404 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:30:54.419 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:30:54.427 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 01:30:54.764 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3399.8483ms
2024-10-09 01:30:54.770 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:30:54.778 +03:00 [DBG] Connection id "0HN77T3EID9EN" completed keep alive response.
2024-10-09 01:30:54.796 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:30:54.835 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:30:54.855 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (19ms).
2024-10-09 01:30:54.879 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - 200 124 application/json; charset=utf-8 3814.7432ms
2024-10-09 01:31:35.865 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/ - null null
2024-10-09 01:31:35.884 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:31:35.887 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2024-10-09 01:31:35.890 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2024-10-09 01:31:35.895 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:31:35.898 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:31:35.902 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:31:35.909 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:31:35.912 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:31:35.916 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:31:35.922 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:31:35.928 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:31:35.932 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:31:35.937 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:31:35.951 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:31:35.955 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:31:35.959 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:35.962 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:35.965 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:31:35.968 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:36.001 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:31:36.013 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:31:36.015 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-09 01:31:36.018 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:36.022 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:36.029 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:31:36.034 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 01:31:36.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-09 01:31:36.046 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:31:36.057 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:31:36.064 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:36.067 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-09 01:31:36.071 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:36.076 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:31:36.080 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:36.083 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:36.086 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:31:36.088 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 01:31:36.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 01:31:36.101 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 01:31:36.106 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 01:31:36.114 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:31:36.117 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:36.120 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2024-10-09 01:31:36.126 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:36.129 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 01:31:36.134 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:31:36.143 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:31:36.145 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:31:36.149 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:31:36.151 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:31:36.155 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 01:31:36.161 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 228.8665ms
2024-10-09 01:31:36.165 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:31:36.169 +03:00 [DBG] Connection id "0HN77T3EID9EN" completed keep alive response.
2024-10-09 01:31:36.172 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:31:36.177 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:36.181 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 01:31:36.186 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/ - 200 124 application/json; charset=utf-8 320.3336ms
2024-10-09 01:31:42.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/1 - null null
2024-10-09 01:31:42.167 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:31:42.169 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-10-09 01:31:42.177 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-10-09 01:31:42.182 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:31:42.185 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:31:42.197 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:31:42.202 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:31:42.205 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:31:42.210 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:31:42.215 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:31:42.218 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:31:42.222 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:31:42.234 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:31:42.239 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:31:42.245 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:31:42.253 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:42.257 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:42.261 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:31:42.264 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:42.267 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 01:31:42.271 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 01:31:42.279 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:31:42.281 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:31:42.285 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 01:31:42.288 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:31:42.406 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:31:42.415 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:31:42.418 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 01:31:42.421 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:42.429 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:42.433 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:31:42.436 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 01:31:42.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-09 01:31:42.445 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:31:42.454 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:31:42.470 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:42.481 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 10ms reading results.
2024-10-09 01:31:42.487 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:42.492 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:31:42.503 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-10-09 01:31:42.520 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:31:42.535 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:42.538 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:42.542 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:31:42.545 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 01:31:42.548 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-10-09 01:31:42.551 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 01:31:42.556 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 01:31:42.563 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:31:42.566 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:42.569 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2024-10-09 01:31:42.575 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:42.580 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:31:42.587 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:31:42.596 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:31:42.598 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:31:42.600 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:31:42.603 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:31:42.607 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-10-09 01:31:42.611 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 389.2192ms
2024-10-09 01:31:42.616 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:31:42.619 +03:00 [DBG] Connection id "0HN77T3EID9EN" completed keep alive response.
2024-10-09 01:31:42.622 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:31:42.626 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:42.630 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 01:31:42.635 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/1 - 200 122 application/json; charset=utf-8 479.4531ms
2024-10-09 01:31:46.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/2 - null null
2024-10-09 01:31:46.163 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:31:46.165 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2024-10-09 01:31:46.167 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2024-10-09 01:31:46.172 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:31:46.177 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:31:46.180 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:31:46.185 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:31:46.189 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:31:46.195 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:31:46.203 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:31:46.211 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:31:46.216 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:31:46.226 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:31:46.230 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:31:46.239 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:31:46.244 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:46.247 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:46.249 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:31:46.252 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:31:46.256 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 01:31:46.260 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 01:31:46.264 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:31:46.267 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:31:46.270 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 01:31:46.273 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 01:31:46.278 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:31:46.283 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:31:46.285 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 01:31:46.288 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:46.291 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:46.295 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:31:46.297 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 01:31:46.300 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-10-09 01:31:46.303 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:31:46.310 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:31:46.315 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:46.319 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-10-09 01:31:46.327 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:46.330 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 01:31:46.334 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:46.337 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:46.340 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:31:46.343 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 01:31:46.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-09 01:31:46.350 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 01:31:46.355 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 01:31:46.362 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:31:46.365 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:46.368 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2024-10-09 01:31:46.372 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:31:46.376 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:31:46.380 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:31:46.387 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:31:46.389 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:31:46.393 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:31:46.395 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:31:46.398 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-10-09 01:31:46.401 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 184.9303ms
2024-10-09 01:31:46.406 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 01:31:46.411 +03:00 [DBG] Connection id "0HN77T3EID9EN" completed keep alive response.
2024-10-09 01:31:46.414 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:31:46.418 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:31:46.431 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (12ms).
2024-10-09 01:31:46.444 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/2 - 200 108 application/json; charset=utf-8 288.2659ms
2024-10-09 01:37:27.699 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 01:37:28.070 +03:00 [DBG] Hosting starting
2024-10-09 01:37:28.543 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 01:37:28.546 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 01:37:28.549 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 01:37:28.551 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 01:37:28.553 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 01:37:28.555 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 01:37:28.701 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 01:37:28.705 +03:00 [INF] Hosting environment: Development
2024-10-09 01:37:28.708 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 01:37:28.710 +03:00 [DBG] Hosting started
2024-10-09 01:37:34.806 +03:00 [DBG] Connection id "0HN77T76UQJH0" received FIN.
2024-10-09 01:37:34.913 +03:00 [DBG] Connection id "0HN77T76UQJH0" accepted.
2024-10-09 01:37:35.004 +03:00 [DBG] Connection id "0HN77T76UQJH0" started.
2024-10-09 01:37:35.043 +03:00 [DBG] Connection id "0HN77T76UQJH1" accepted.
2024-10-09 01:37:35.054 +03:00 [DBG] Connection id "0HN77T76UQJH1" started.
2024-10-09 01:37:35.096 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 01:37:35.195 +03:00 [DBG] Connection 0HN77T76UQJH1 established using the following protocol: "Tls12"
2024-10-09 01:37:35.195 +03:00 [DBG] Connection id "0HN77T76UQJH0" stopped.
2024-10-09 01:37:35.213 +03:00 [DBG] Connection id "0HN77T76UQJH0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 01:37:35.286 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-09 01:37:35.309 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 01:37:35.387 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:37:35.448 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-09 01:37:35.463 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-09 01:37:35.480 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 01:37:35.495 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 01:37:35.546 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-09 01:37:35.559 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:37:35.563 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:37:35.568 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:37:35.580 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:37:35.584 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:37:35.595 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 01:37:36.054 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 01:37:36.440 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-09 01:37:38.191 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:37:38.270 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-10-09 01:37:38.754 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 01:37:38.841 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:37:38.869 +03:00 [DBG] Created DbConnection. (29ms).
2024-10-09 01:37:38.882 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:37:38.977 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:38.991 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:37:39.004 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-09 01:37:39.012 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-10-09 01:37:39.031 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-10-09 01:37:39.076 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-10-09 01:37:39.127 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:37:39.170 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:37:39.183 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:37:39.230 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:39.250 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 152ms reading results.
2024-10-09 01:37:39.285 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:39.300 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (15ms).
2024-10-09 01:37:39.348 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:37:39.366 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-09 01:37:39.374 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:37:39.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 01:37:39.848 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4242.0237ms
2024-10-09 01:37:39.876 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-09 01:37:39.935 +03:00 [DBG] Connection id "0HN77T76UQJH1" completed keep alive response.
2024-10-09 01:37:39.999 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:37:40.016 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:37:40.035 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (17ms).
2024-10-09 01:37:40.048 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 200 244 application/json; charset=utf-8 4769.4039ms
2024-10-09 01:37:48.141 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - null null
2024-10-09 01:37:48.150 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:37:48.154 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-10-09 01:37:48.158 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-10-09 01:37:48.163 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:37:48.169 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:37:48.194 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:37:48.203 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:37:48.213 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:37:48.220 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:37:48.234 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:37:48.238 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:37:48.246 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:37:48.253 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:37:48.268 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:37:48.276 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:37:48.281 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:37:48.284 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:37:48.291 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:37:48.298 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:37:48.336 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:37:48.353 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 01:37:48.442 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:37:48.475 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:37:48.477 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 01:37:48.482 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:37:48.487 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:48.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:37:48.496 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 01:37:48.503 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-09 01:37:48.512 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:37:48.530 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:37:48.538 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:48.545 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-10-09 01:37:48.551 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:48.554 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 01:37:48.566 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-10-09 01:37:48.581 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 01:37:48.593 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:37:48.597 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:48.600 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:37:48.608 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-09 01:37:48.611 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 01:37:48.614 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 01:37:48.625 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 01:37:48.642 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:37:48.663 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:37:48.671 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:48.676 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 42ms reading results.
2024-10-09 01:37:48.681 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:37:48.686 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 01:37:48.703 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:37:48.716 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:37:48.718 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:37:48.721 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:37:48.725 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:37:48.732 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 01:37:48.743 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 496.817ms
2024-10-09 01:37:48.750 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:37:48.755 +03:00 [DBG] Connection id "0HN77T76UQJH1" completed keep alive response.
2024-10-09 01:37:48.763 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:37:48.767 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:37:48.771 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:37:48.782 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - 200 233 application/json; charset=utf-8 639.7814ms
2024-10-09 01:38:01.368 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - null null
2024-10-09 01:38:01.380 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:38:01.383 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 01:38:01.388 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 01:38:01.400 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:38:01.410 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:38:01.416 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:38:01.423 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:38:01.431 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:38:01.435 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:38:01.444 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:38:01.448 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:38:01.452 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:38:01.464 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:38:01.468 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:38:01.476 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:38:01.480 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:38:01.483 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:38:01.488 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:38:01.493 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:38:01.639 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:38:01.688 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:38:01.691 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-09 01:38:01.695 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:38:01.700 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:38:01.704 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:38:01.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 01:38:01.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-09 01:38:01.719 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:38:01.729 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:38:01.738 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:38:01.745 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2024-10-09 01:38:01.750 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:38:01.755 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:38:01.763 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:38:01.766 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:38:01.770 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:38:01.777 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-09 01:38:01.781 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 01:38:01.785 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 01:38:01.797 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 01:38:01.815 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:38:01.829 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:38:01.833 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:38:01.838 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2024-10-09 01:38:01.844 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:38:01.848 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 01:38:01.855 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:38:01.868 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:38:01.870 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:38:01.874 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:38:01.876 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:38:01.883 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 01:38:01.888 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 435.8688ms
2024-10-09 01:38:01.895 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:38:01.902 +03:00 [DBG] Connection id "0HN77T76UQJH1" completed keep alive response.
2024-10-09 01:38:01.908 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:38:01.911 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:38:01.918 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 01:38:01.925 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - 200 209 application/json; charset=utf-8 556.7637ms
2024-10-09 01:38:53.751 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 01:38:53.946 +03:00 [DBG] Hosting starting
2024-10-09 01:38:54.411 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 01:38:54.414 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 01:38:54.416 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 01:38:54.418 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 01:38:54.420 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 01:38:54.422 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 01:38:54.545 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 01:38:54.561 +03:00 [INF] Hosting environment: Development
2024-10-09 01:38:54.565 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 01:38:54.568 +03:00 [DBG] Hosting started
2024-10-09 01:38:57.804 +03:00 [DBG] Connection id "0HN77T7VMBQQD" received FIN.
2024-10-09 01:38:57.817 +03:00 [DBG] Connection id "0HN77T7VMBQQD" accepted.
2024-10-09 01:38:57.830 +03:00 [DBG] Connection id "0HN77T7VMBQQD" started.
2024-10-09 01:38:57.835 +03:00 [DBG] Connection id "0HN77T7VMBQQE" accepted.
2024-10-09 01:38:57.838 +03:00 [DBG] Connection id "0HN77T7VMBQQE" started.
2024-10-09 01:38:57.874 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 01:38:57.956 +03:00 [DBG] Connection id "0HN77T7VMBQQD" stopped.
2024-10-09 01:38:57.973 +03:00 [DBG] Connection id "0HN77T7VMBQQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 01:38:57.973 +03:00 [DBG] Connection 0HN77T7VMBQQE established using the following protocol: "Tls12"
2024-10-09 01:38:58.044 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - null null
2024-10-09 01:38:58.061 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 01:38:58.101 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:38:58.169 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 01:38:58.182 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 01:38:58.197 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:38:58.215 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:38:58.273 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:38:58.284 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:38:58.290 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:38:58.296 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:38:58.301 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:38:58.305 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:38:58.317 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:38:58.544 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 01:38:58.891 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:38:58.906 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:38:58.915 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:38:58.922 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:38:58.927 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:38:58.931 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:38:58.940 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:39:00.467 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:39:00.545 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 01:39:00.903 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:39:00.982 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:39:01.012 +03:00 [DBG] Created DbConnection. (20ms).
2024-10-09 01:39:01.024 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:39:01.062 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:39:01.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:39:01.087 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-10-09 01:39:01.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-10-09 01:39:01.121 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:39:01.178 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:39:01.212 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:39:01.235 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2024-10-09 01:39:01.256 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:39:01.271 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (15ms).
2024-10-09 01:39:01.286 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.Id == __cityId_0)'
2024-10-09 01:39:01.368 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.Id == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 01:39:01.388 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:39:01.394 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:39:01.398 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:39:01.404 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-09 01:39:01.411 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-10-09 01:39:01.418 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 01:39:01.429 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-10-09 01:39:01.507 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:39:01.572 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:39:01.579 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 134ms reading results.
2024-10-09 01:39:01.586 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:39:01.594 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 01:39:01.642 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:39:01.661 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:39:01.664 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:39:01.670 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:39:01.682 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:39:01.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 01:39:02.082 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3753.7012ms
2024-10-09 01:39:02.097 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:39:02.121 +03:00 [DBG] Connection id "0HN77T7VMBQQE" completed keep alive response.
2024-10-09 01:39:02.137 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:39:02.162 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:39:02.187 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (29ms).
2024-10-09 01:39:02.222 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - 200 133 application/json; charset=utf-8 4187.0261ms
2024-10-09 01:47:01.033 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 01:47:01.245 +03:00 [DBG] Hosting starting
2024-10-09 01:47:01.799 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 01:47:01.802 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 01:47:01.804 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 01:47:01.807 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 01:47:01.810 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 01:47:01.815 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 01:47:01.928 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 01:47:01.931 +03:00 [INF] Hosting environment: Development
2024-10-09 01:47:01.934 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 01:47:01.936 +03:00 [DBG] Hosting started
2024-10-09 01:47:14.504 +03:00 [DBG] Connection id "0HN77TCJN8M9R" received FIN.
2024-10-09 01:47:14.516 +03:00 [DBG] Connection id "0HN77TCJN8M9R" accepted.
2024-10-09 01:47:14.533 +03:00 [DBG] Connection id "0HN77TCJN8M9R" started.
2024-10-09 01:47:14.542 +03:00 [DBG] Connection id "0HN77TCJN8M9S" accepted.
2024-10-09 01:47:14.548 +03:00 [DBG] Connection id "0HN77TCJN8M9S" started.
2024-10-09 01:47:14.581 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 01:47:14.686 +03:00 [DBG] Connection 0HN77TCJN8M9S established using the following protocol: "Tls12"
2024-10-09 01:47:14.688 +03:00 [DBG] Connection id "0HN77TCJN8M9R" stopped.
2024-10-09 01:47:14.707 +03:00 [DBG] Connection id "0HN77TCJN8M9R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 01:47:14.765 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - null null
2024-10-09 01:47:14.790 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 01:47:14.832 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 01:47:14.878 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 01:47:14.888 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 01:47:14.899 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:47:14.908 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:47:14.967 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 01:47:14.987 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 01:47:14.998 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 01:47:15.003 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 01:47:15.013 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 01:47:15.017 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 01:47:15.026 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:47:15.268 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 01:47:15.615 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 01:47:15.637 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:47:15.644 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 01:47:15.655 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:47:15.658 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:47:15.667 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 01:47:15.674 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 01:47:17.259 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 01:47:17.336 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 01:47:17.684 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 01:47:17.764 +03:00 [DBG] Creating DbConnection.
2024-10-09 01:47:17.806 +03:00 [DBG] Created DbConnection. (30ms).
2024-10-09 01:47:17.816 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:47:17.844 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:47:17.855 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:47:17.870 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-09 01:47:17.882 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-10-09 01:47:17.903 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:47:17.952 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 01:47:17.976 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:47:17.992 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 22ms reading results.
2024-10-09 01:47:18.010 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:47:18.029 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (18ms).
2024-10-09 01:47:18.053 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-10-09 01:47:18.127 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 01:47:18.150 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:47:18.154 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:47:18.158 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 01:47:18.161 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 01:47:18.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 01:47:18.172 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 01:47:18.190 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 01:47:18.269 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:47:18.318 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 01:47:18.327 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:47:18.335 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 129ms reading results.
2024-10-09 01:47:18.353 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 01:47:18.359 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 01:47:18.417 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 01:47:18.441 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 01:47:18.444 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 01:47:18.453 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 01:47:18.461 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 01:47:18.472 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 01:47:18.806 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3768.4973ms
2024-10-09 01:47:18.853 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 01:47:18.858 +03:00 [DBG] Connection id "0HN77TCJN8M9S" completed keep alive response.
2024-10-09 01:47:18.871 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 01:47:18.895 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 01:47:18.927 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (33ms).
2024-10-09 01:47:18.938 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - 200 209 application/json; charset=utf-8 4187.4766ms
2024-10-09 01:47:22.580 +03:00 [DBG] Connection id "0HN77TCJN8M9S" received FIN.
2024-10-09 01:47:22.616 +03:00 [DBG] Connection id "0HN77TCJN8M9S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 01:47:22.641 +03:00 [DBG] Connection id "0HN77TCJN8M9S" disconnecting.
2024-10-09 01:47:22.672 +03:00 [DBG] Connection id "0HN77TCJN8M9S" stopped.
2024-10-09 18:46:56.873 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 18:46:57.129 +03:00 [DBG] Hosting starting
2024-10-09 18:46:57.640 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 18:46:57.643 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 18:46:57.646 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 18:46:57.649 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 18:46:57.653 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 18:46:57.656 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 18:46:57.794 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 18:46:57.818 +03:00 [INF] Hosting environment: Development
2024-10-09 18:46:57.823 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 18:46:57.825 +03:00 [DBG] Hosting started
2024-10-09 18:49:27.203 +03:00 [DBG] Connection id "0HN78F7Q9F1LM" received FIN.
2024-10-09 18:49:27.218 +03:00 [DBG] Connection id "0HN78F7Q9F1LM" accepted.
2024-10-09 18:49:27.224 +03:00 [DBG] Connection id "0HN78F7Q9F1LM" started.
2024-10-09 18:49:27.228 +03:00 [DBG] Connection id "0HN78F7Q9F1LN" accepted.
2024-10-09 18:49:27.262 +03:00 [DBG] Connection id "0HN78F7Q9F1LN" started.
2024-10-09 18:49:27.307 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 18:49:27.405 +03:00 [DBG] Connection id "0HN78F7Q9F1LM" stopped.
2024-10-09 18:49:27.421 +03:00 [DBG] Connection id "0HN78F7Q9F1LM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 18:49:27.438 +03:00 [DBG] Connection 0HN78F7Q9F1LN established using the following protocol: "Tls12"
2024-10-09 18:49:27.534 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7206/api/cities/3/pointsofinterest - application/json 117
2024-10-09 18:49:27.559 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 18:49:27.889 +03:00 [DBG] POST requests are not supported
2024-10-09 18:49:27.959 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 18:49:27.969 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 18:49:27.978 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-10-09 18:49:27.990 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-10-09 18:49:28.052 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 18:49:28.061 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 18:49:28.070 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 18:49:28.074 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 18:49:28.084 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 18:49:28.088 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 18:49:28.096 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 18:49:28.527 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 18:49:28.925 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 18:49:28.940 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 18:49:28.951 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 18:49:28.958 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:49:28.962 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:49:28.969 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 18:49:28.983 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:49:28.991 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-10-09 18:49:29.009 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-10-09 18:49:29.017 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-09 18:49:29.023 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-09 18:49:29.063 +03:00 [DBG] Connection id "0HN78F7Q9F1LN", Request id "0HN78F7Q9F1LN:00000001": started reading request body.
2024-10-09 18:49:29.069 +03:00 [DBG] Connection id "0HN78F7Q9F1LN", Request id "0HN78F7Q9F1LN:00000001": done reading request body.
2024-10-09 18:49:29.289 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-10-09 18:49:29.293 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-10-09 18:49:29.299 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-10-09 18:49:29.316 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-10-09 18:49:31.217 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 18:49:31.296 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 18:49:31.667 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 18:49:31.746 +03:00 [DBG] Creating DbConnection.
2024-10-09 18:49:31.785 +03:00 [DBG] Created DbConnection. (30ms).
2024-10-09 18:49:31.800 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:49:31.878 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:31.892 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 18:49:31.908 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-10-09 18:49:31.921 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-10-09 18:49:31.942 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 18:49:31.999 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 18:49:32.035 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:32.050 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 21ms reading results.
2024-10-09 18:49:32.061 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:32.071 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-09 18:49:32.094 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-10-09 18:49:32.171 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 18:49:32.193 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:49:32.200 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:32.207 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 18:49:32.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-10-09 18:49:32.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (46ms).
2024-10-09 18:49:32.258 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-10-09 18:49:32.272 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-10-09 18:49:32.330 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 18:49:32.387 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:32.391 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 110ms reading results.
2024-10-09 18:49:32.397 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:32.403 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 18:49:32.421 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-10-09 18:49:32.445 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-10-09 18:49:32.525 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 18:49:32.606 +03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 18:49:32.668 +03:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 18:49:32.745 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 18:49:32.763 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-10-09 18:49:33.021 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:49:33.025 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:33.035 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 18:49:33.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 18:49:33.043 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-09 18:49:33.057 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-09 18:49:33.090 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-09 18:49:33.163 +03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-09 18:49:33.345 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:33.356 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 250ms reading results.
2024-10-09 18:49:33.463 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:49:33.474 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (11ms).
2024-10-09 18:49:33.515 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 18:49:33.545 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-10-09 18:49:33.617 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 18:49:33.643 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 18:49:33.646 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 18:49:33.724 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 18:49:33.730 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 18:49:33.744 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-10-09 18:49:33.808 +03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address GetPointOfInterest(cityId=[3],pointOfInterestId=[8])
2024-10-09 18:49:33.829 +03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/8 and 
2024-10-09 18:49:33.844 +03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/8
2024-10-09 18:49:34.003 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 5895.7512ms
2024-10-09 18:49:34.020 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-10-09 18:49:34.041 +03:00 [DBG] Connection id "0HN78F7Q9F1LN" completed keep alive response.
2024-10-09 18:49:34.055 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 18:49:34.083 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:49:34.189 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (108ms).
2024-10-09 18:49:34.212 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7206/api/cities/3/pointsofinterest - 201 111 application/json; charset=utf-8 6689.3361ms
2024-10-09 18:50:08.144 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest/8 - null null
2024-10-09 18:50:08.204 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 18:50:08.209 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/8'
2024-10-09 18:50:08.212 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/8'
2024-10-09 18:50:08.220 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 18:50:08.227 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 18:50:08.243 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 18:50:08.252 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 18:50:08.256 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 18:50:08.263 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 18:50:08.277 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 18:50:08.286 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 18:50:08.296 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 18:50:08.311 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 18:50:08.331 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 18:50:08.338 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 18:50:08.342 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:50:08.346 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:50:08.350 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 18:50:08.357 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:50:08.361 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 18:50:08.366 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 18:50:08.375 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 18:50:08.379 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 18:50:08.386 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 18:50:08.390 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 18:50:08.439 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 18:50:08.488 +03:00 [DBG] Creating DbConnection.
2024-10-09 18:50:08.495 +03:00 [DBG] Created DbConnection. (6ms).
2024-10-09 18:50:08.501 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:50:08.505 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:08.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 18:50:08.519 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-09 18:50:08.523 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-10-09 18:50:08.529 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 18:50:08.537 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 18:50:08.547 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:08.551 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-10-09 18:50:08.555 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:08.561 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 18:50:08.570 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-10-09 18:50:08.588 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 18:50:08.603 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:50:08.609 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:08.612 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 18:50:08.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 18:50:08.621 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-10-09 18:50:08.625 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 18:50:08.632 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 18:50:08.643 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 18:50:08.647 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:08.657 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 14ms reading results.
2024-10-09 18:50:08.662 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:08.668 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 18:50:08.676 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 18:50:08.688 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 18:50:08.690 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 18:50:08.693 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 18:50:08.696 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 18:50:08.705 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-10-09 18:50:08.712 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 415.5789ms
2024-10-09 18:50:08.727 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 18:50:08.734 +03:00 [DBG] Connection id "0HN78F7Q9F1LN" completed keep alive response.
2024-10-09 18:50:08.741 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 18:50:08.746 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:50:08.752 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 18:50:08.776 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest/8 - 200 111 application/json; charset=utf-8 632.1837ms
2024-10-09 18:50:14.837 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest/7 - null null
2024-10-09 18:50:14.847 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 18:50:14.849 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2024-10-09 18:50:14.853 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2024-10-09 18:50:14.861 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 18:50:14.865 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 18:50:14.870 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 18:50:14.877 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 18:50:14.886 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 18:50:14.890 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 18:50:14.898 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 18:50:14.904 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 18:50:14.909 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 18:50:14.920 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 18:50:14.924 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 18:50:14.929 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 18:50:14.935 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:50:14.938 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:50:14.945 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 18:50:14.951 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 18:50:14.955 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 18:50:14.958 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 18:50:14.965 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 18:50:14.970 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 18:50:14.974 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 18:50:14.977 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 18:50:15.128 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 18:50:15.139 +03:00 [DBG] Creating DbConnection.
2024-10-09 18:50:15.142 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 18:50:15.145 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:50:15.152 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:15.156 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 18:50:15.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 18:50:15.165 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-09 18:50:15.171 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 18:50:15.178 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 18:50:15.190 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:15.195 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-10-09 18:50:15.203 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:15.208 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 18:50:15.213 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:50:15.220 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:15.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 18:50:15.226 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 18:50:15.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-09 18:50:15.238 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 18:50:15.255 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 18:50:15.272 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:15.275 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-09 18:50:15.280 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 18:50:15.288 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2024-10-09 18:50:15.298 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 18:50:15.309 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 18:50:15.312 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-09 18:50:15.323 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-09 18:50:15.326 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-09 18:50:15.358 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 449.1585ms
2024-10-09 18:50:15.363 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 18:50:15.371 +03:00 [DBG] Connection id "0HN78F7Q9F1LN" completed keep alive response.
2024-10-09 18:50:15.376 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 18:50:15.380 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 18:50:15.398 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (17ms).
2024-10-09 18:50:15.405 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest/7 - 404 162 application/problem+json; charset=utf-8 568.3435ms
2024-10-09 19:04:45.866 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 19:04:46.062 +03:00 [DBG] Hosting starting
2024-10-09 19:04:46.449 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 19:04:46.453 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 19:04:46.456 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 19:04:46.458 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 19:04:46.461 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 19:04:46.463 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 19:04:46.633 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 19:04:46.639 +03:00 [INF] Hosting environment: Development
2024-10-09 19:04:46.642 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 19:04:46.645 +03:00 [DBG] Hosting started
2024-10-09 19:04:50.093 +03:00 [DBG] Connection id "0HN78FGDAQO46" received FIN.
2024-10-09 19:04:50.105 +03:00 [DBG] Connection id "0HN78FGDAQO46" accepted.
2024-10-09 19:04:50.110 +03:00 [DBG] Connection id "0HN78FGDAQO46" started.
2024-10-09 19:04:50.125 +03:00 [DBG] Connection id "0HN78FGDAQO47" accepted.
2024-10-09 19:04:50.128 +03:00 [DBG] Connection id "0HN78FGDAQO47" started.
2024-10-09 19:04:50.159 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 19:04:50.231 +03:00 [DBG] Connection id "0HN78FGDAQO46" stopped.
2024-10-09 19:04:50.246 +03:00 [DBG] Connection id "0HN78FGDAQO46" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 19:04:50.253 +03:00 [DBG] Connection 0HN78FGDAQO47 established using the following protocol: "Tls12"
2024-10-09 19:04:50.342 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7206/api/cities/3/pointsofinterest/7 - null null
2024-10-09 19:04:50.359 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 19:04:50.392 +03:00 [DBG] DELETE requests are not supported
2024-10-09 19:04:50.440 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2024-10-09 19:04:50.449 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2024-10-09 19:04:50.458 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:04:50.468 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:04:50.539 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 19:04:50.555 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 19:04:50.562 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 19:04:50.570 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 19:04:50.582 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 19:04:50.592 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 19:04:50.601 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:04:50.820 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 19:04:51.132 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:04:51.148 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:04:51.159 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 19:04:51.170 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:04:51.174 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:04:51.182 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:04:51.194 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:04:51.207 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 19:04:51.211 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 19:04:51.220 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:04:51.225 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:04:51.230 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 19:04:51.237 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:04:52.648 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 19:04:52.739 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 19:04:53.077 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 19:04:53.167 +03:00 [DBG] Creating DbConnection.
2024-10-09 19:04:53.190 +03:00 [DBG] Created DbConnection. (17ms).
2024-10-09 19:04:53.202 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:04:53.228 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:04:53.242 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:04:53.258 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-10-09 19:04:53.271 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-10-09 19:04:53.292 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:04:53.345 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:04:53.379 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:04:53.396 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 24ms reading results.
2024-10-09 19:04:53.410 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:04:53.418 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2024-10-09 19:04:53.430 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-10-09 19:04:53.510 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 19:04:53.534 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:04:53.540 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:04:53.545 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:04:53.550 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 19:04:53.558 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-10-09 19:04:53.566 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 19:04:53.592 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 19:04:53.605 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:04:53.612 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-10-09 19:04:53.620 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:04:53.623 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 19:04:53.638 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 19:04:53.655 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 19:04:53.660 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-09 19:04:53.674 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-09 19:04:53.687 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-09 19:04:54.042 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 3432.6855ms
2024-10-09 19:04:54.049 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:04:54.057 +03:00 [DBG] Connection id "0HN78FGDAQO47" completed keep alive response.
2024-10-09 19:04:54.066 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 19:04:54.089 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:04:54.099 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-09 19:04:54.115 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7206/api/cities/3/pointsofinterest/7 - 404 162 application/problem+json; charset=utf-8 3785.8882ms
2024-10-09 19:05:00.565 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7206/api/cities/3/pointsofinterest/8 - null null
2024-10-09 19:05:00.575 +03:00 [DBG] DELETE requests are not supported
2024-10-09 19:05:00.580 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/8'
2024-10-09 19:05:00.583 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/8'
2024-10-09 19:05:00.601 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:05:00.610 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:05:00.617 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 19:05:00.629 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 19:05:00.633 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 19:05:00.638 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 19:05:00.650 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 19:05:00.659 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 19:05:00.667 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:00.680 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:00.690 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:00.694 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 19:05:00.699 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:00.706 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:00.709 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:00.712 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:00.720 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 19:05:00.723 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 19:05:00.728 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:05:00.733 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:05:00.738 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 19:05:00.742 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:05:00.774 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 19:05:00.788 +03:00 [DBG] Creating DbConnection.
2024-10-09 19:05:00.790 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 19:05:00.794 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:00.798 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:00.808 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:00.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 19:05:00.816 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-09 19:05:00.824 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:00.831 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:00.845 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:00.851 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2024-10-09 19:05:00.858 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:00.861 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 19:05:00.871 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:00.875 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:00.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:00.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-09 19:05:00.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-10-09 19:05:00.904 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 19:05:00.915 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 19:05:00.957 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:00.991 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:00.995 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 70ms reading results.
2024-10-09 19:05:01.003 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:01.007 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 19:05:01.031 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:01.048 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-10-09 19:05:01.060 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-10-09 19:05:01.092 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-10-09 19:05:01.236 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:01.239 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:01.245 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:01.250 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 19:05:01.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-09 19:05:01.260 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-10-09 19:05:01.267 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-10-09 19:05:01.382 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:01.388 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 110ms reading results.
2024-10-09 19:05:01.395 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:01.399 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 19:05:01.414 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:01.423 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-10-09 19:05:01.439 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-09 19:05:01.442 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 775.1996ms
2024-10-09 19:05:01.448 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:05:01.455 +03:00 [DBG] Connection id "0HN78FGDAQO47" completed keep alive response.
2024-10-09 19:05:01.459 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 19:05:01.463 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:01.470 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 19:05:01.477 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7206/api/cities/3/pointsofinterest/8 - 204 null null 912.7471ms
2024-10-09 19:05:19.548 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - null null
2024-10-09 19:05:19.569 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 19:05:19.574 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:05:19.577 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:05:19.582 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:05:19.589 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:05:19.607 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 19:05:19.616 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 19:05:19.625 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 19:05:19.630 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 19:05:19.646 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 19:05:19.650 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 19:05:19.659 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:19.667 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:19.674 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:19.677 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 19:05:19.681 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:19.688 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:19.692 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:19.695 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:19.832 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 19:05:19.845 +03:00 [DBG] Creating DbConnection.
2024-10-09 19:05:19.847 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 19:05:19.850 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:19.859 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:19.864 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:19.867 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 19:05:19.873 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-10-09 19:05:19.878 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:19.885 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:19.899 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:19.907 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-10-09 19:05:19.914 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:19.918 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 19:05:19.964 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-10-09 19:05:19.977 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 19:05:19.990 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:19.993 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:19.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:20.001 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-09 19:05:20.007 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 19:05:20.010 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 19:05:20.021 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 19:05:20.028 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:20.034 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:20.040 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:20.043 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 15ms reading results.
2024-10-09 19:05:20.050 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:20.055 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 19:05:20.087 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 19:05:20.105 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 19:05:20.108 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 19:05:20.115 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 19:05:20.118 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 19:05:20.126 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 19:05:20.150 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 490.9045ms
2024-10-09 19:05:20.159 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:05:20.171 +03:00 [DBG] Connection id "0HN78FGDAQO47" completed keep alive response.
2024-10-09 19:05:20.178 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 19:05:20.188 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:20.194 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 19:05:20.215 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - 200 209 application/json; charset=utf-8 666.1334ms
2024-10-09 19:05:33.507 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7206/api/cities/3/pointsofinterest - application/json 117
2024-10-09 19:05:33.514 +03:00 [DBG] POST requests are not supported
2024-10-09 19:05:33.516 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:05:33.521 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:05:33.525 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-10-09 19:05:33.529 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-10-09 19:05:33.550 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 19:05:33.564 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 19:05:33.576 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 19:05:33.580 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 19:05:33.589 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 19:05:33.594 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 19:05:33.598 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:33.606 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:33.610 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:33.614 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 19:05:33.617 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:33.625 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:33.628 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:33.632 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:33.638 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-10-09 19:05:33.644 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-10-09 19:05:33.650 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-09 19:05:33.657 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-09 19:05:33.672 +03:00 [DBG] Connection id "0HN78FGDAQO47", Request id "0HN78FGDAQO47:00000004": started reading request body.
2024-10-09 19:05:33.675 +03:00 [DBG] Connection id "0HN78FGDAQO47", Request id "0HN78FGDAQO47:00000004": done reading request body.
2024-10-09 19:05:33.723 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-10-09 19:05:33.727 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-10-09 19:05:33.731 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-10-09 19:05:33.746 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-10-09 19:05:33.754 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 19:05:33.765 +03:00 [DBG] Creating DbConnection.
2024-10-09 19:05:33.768 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 19:05:33.774 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:33.782 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:33.790 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:33.798 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-09 19:05:33.804 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-10-09 19:05:33.809 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:33.819 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:33.832 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:33.835 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-09 19:05:33.843 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:33.847 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 19:05:33.859 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-10-09 19:05:33.871 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 19:05:33.881 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:33.884 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:33.893 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:33.896 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 19:05:33.899 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-09 19:05:33.906 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-10-09 19:05:33.913 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-10-09 19:05:33.934 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:33.949 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:33.952 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2024-10-09 19:05:33.959 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:33.962 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 19:05:33.969 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-10-09 19:05:33.973 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-10-09 19:05:33.997 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:34.054 +03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:34.068 +03:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:34.092 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:34.097 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-10-09 19:05:34.117 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:34.122 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:34.128 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:34.131 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 19:05:34.135 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-09 19:05:34.142 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-09 19:05:34.153 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-09 19:05:34.179 +03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-09 19:05:34.225 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:34.229 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 65ms reading results.
2024-10-09 19:05:34.235 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:34.242 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 19:05:34.249 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:34.257 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-10-09 19:05:34.266 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 19:05:34.276 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 19:05:34.279 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 19:05:34.282 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 19:05:34.288 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 19:05:34.293 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-10-09 19:05:34.326 +03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address GetPointOfInterest(cityId=[3],pointOfInterestId=[9])
2024-10-09 19:05:34.335 +03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/9 and 
2024-10-09 19:05:34.342 +03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/9
2024-10-09 19:05:34.350 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 751.8363ms
2024-10-09 19:05:34.357 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-10-09 19:05:34.364 +03:00 [DBG] Connection id "0HN78FGDAQO47" completed keep alive response.
2024-10-09 19:05:34.368 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 19:05:34.373 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:34.382 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (8ms).
2024-10-09 19:05:34.394 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7206/api/cities/3/pointsofinterest - 201 111 application/json; charset=utf-8 886.9214ms
2024-10-09 19:05:41.656 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - null null
2024-10-09 19:05:41.667 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 19:05:41.678 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:05:41.684 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:05:41.692 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:05:41.696 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:05:41.702 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 19:05:41.710 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 19:05:41.716 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 19:05:41.722 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 19:05:41.729 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 19:05:41.735 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 19:05:41.743 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:41.750 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:41.755 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:41.759 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 19:05:41.766 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:41.772 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:41.775 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:41.780 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:41.786 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 19:05:41.795 +03:00 [DBG] Creating DbConnection.
2024-10-09 19:05:41.797 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 19:05:41.800 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:41.806 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:41.811 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:41.814 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 19:05:41.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-09 19:05:41.822 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:41.832 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:41.843 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:41.847 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-09 19:05:41.851 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:41.860 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2024-10-09 19:05:41.866 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:41.879 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:41.885 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:41.894 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-09 19:05:41.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2024-10-09 19:05:41.914 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 19:05:41.929 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 19:05:41.942 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:41.950 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:41.957 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:41.962 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:41.968 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2024-10-09 19:05:41.977 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:41.983 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 19:05:41.990 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 19:05:42.000 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 19:05:42.002 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 19:05:42.007 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 19:05:42.009 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 19:05:42.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 19:05:42.023 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 280.8597ms
2024-10-09 19:05:42.030 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:05:42.034 +03:00 [DBG] Connection id "0HN78FGDAQO47" completed keep alive response.
2024-10-09 19:05:42.040 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 19:05:42.043 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:42.052 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (7ms).
2024-10-09 19:05:42.062 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - 200 321 application/json; charset=utf-8 406.4255ms
2024-10-09 19:05:50.920 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7206/api/cities/3/pointsofinterest/9 - null null
2024-10-09 19:05:50.932 +03:00 [DBG] DELETE requests are not supported
2024-10-09 19:05:50.936 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/9'
2024-10-09 19:05:50.946 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/9'
2024-10-09 19:05:50.967 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:05:50.980 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:05:50.995 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 19:05:51.003 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 19:05:51.014 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 19:05:51.025 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 19:05:51.034 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 19:05:51.051 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 19:05:51.060 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:51.070 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:05:51.077 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:51.086 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 19:05:51.094 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:51.101 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:51.108 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:05:51.115 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:05:51.122 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 19:05:51.130 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 19:05:51.137 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:05:51.141 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:05:51.149 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 19:05:51.154 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 19:05:51.163 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 19:05:51.202 +03:00 [DBG] Creating DbConnection.
2024-10-09 19:05:51.212 +03:00 [DBG] Created DbConnection. (10ms).
2024-10-09 19:05:51.216 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:51.224 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.230 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:51.239 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-10-09 19:05:51.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-10-09 19:05:51.252 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:51.273 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:05:51.289 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.300 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 10ms reading results.
2024-10-09 19:05:51.308 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.317 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2024-10-09 19:05:51.324 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:51.332 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.338 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:51.346 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-09 19:05:51.351 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-10-09 19:05:51.356 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 19:05:51.369 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 19:05:51.399 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:51.420 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.428 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2024-10-09 19:05:51.438 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.444 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 19:05:51.449 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:51.474 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-10-09 19:05:51.479 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-10-09 19:05:51.486 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-10-09 19:05:51.496 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:51.501 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:05:51.511 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 19:05:51.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 19:05:51.523 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-10-09 19:05:51.536 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-10-09 19:05:51.605 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.612 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 62ms reading results.
2024-10-09 19:05:51.624 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:05:51.642 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (17ms).
2024-10-09 19:05:51.648 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:05:51.657 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-10-09 19:05:51.668 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-09 19:05:51.673 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 612.7675ms
2024-10-09 19:05:51.680 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 19:05:51.685 +03:00 [DBG] Connection id "0HN78FGDAQO47" completed keep alive response.
2024-10-09 19:05:51.698 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 19:05:51.703 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:05:51.713 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (10ms).
2024-10-09 19:05:51.725 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7206/api/cities/3/pointsofinterest/9 - 204 null null 805.0622ms
2024-10-09 19:06:02.401 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - null null
2024-10-09 19:06:02.410 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 19:06:02.414 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:06:02.419 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-10-09 19:06:02.429 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:06:02.434 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:06:02.443 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 19:06:02.460 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 19:06:02.466 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 19:06:02.486 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 19:06:02.499 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 19:06:02.506 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 19:06:02.512 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:06:02.517 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 19:06:02.525 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:06:02.529 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 19:06:02.534 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:06:02.542 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:06:02.545 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 19:06:02.551 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 19:06:02.558 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 19:06:02.564 +03:00 [DBG] Creating DbConnection.
2024-10-09 19:06:02.566 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-09 19:06:02.573 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:06:02.579 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:06:02.582 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:06:02.589 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-09 19:06:02.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 19:06:02.596 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:06:02.607 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 19:06:02.614 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:06:02.620 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2024-10-09 19:06:02.627 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:06:02.632 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-09 19:06:02.636 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:06:02.641 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:06:02.644 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 19:06:02.649 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 19:06:02.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-10-09 19:06:02.659 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 19:06:02.676 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 19:06:02.698 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:06:02.709 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 19:06:02.713 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:06:02.716 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 18ms reading results.
2024-10-09 19:06:02.727 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 19:06:02.731 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 19:06:02.735 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 19:06:02.748 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 19:06:02.750 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 19:06:02.756 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 19:06:02.758 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 19:06:02.764 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 19:06:02.769 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 256.7251ms
2024-10-09 19:06:02.784 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 19:06:02.795 +03:00 [DBG] Connection id "0HN78FGDAQO47" completed keep alive response.
2024-10-09 19:06:02.801 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 19:06:02.809 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 19:06:02.814 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-09 19:06:02.824 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/3/pointsofinterest - 200 209 application/json; charset=utf-8 423.0979ms
2024-10-09 21:03:48.969 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-09 21:03:49.191 +03:00 [DBG] Hosting starting
2024-10-09 21:03:49.783 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-09 21:03:49.785 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-09 21:03:49.789 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-09 21:03:49.792 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-09 21:03:49.795 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-09 21:03:49.797 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-09 21:03:49.925 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 21:03:49.930 +03:00 [INF] Hosting environment: Development
2024-10-09 21:03:49.933 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-09 21:03:49.936 +03:00 [DBG] Hosting started
2024-10-09 21:08:02.228 +03:00 [DBG] Connection id "0HN78HL8BNBHK" received FIN.
2024-10-09 21:08:02.240 +03:00 [DBG] Connection id "0HN78HL8BNBHK" accepted.
2024-10-09 21:08:02.249 +03:00 [DBG] Connection id "0HN78HL8BNBHK" started.
2024-10-09 21:08:02.259 +03:00 [DBG] Connection id "0HN78HL8BNBHL" accepted.
2024-10-09 21:08:02.262 +03:00 [DBG] Connection id "0HN78HL8BNBHL" started.
2024-10-09 21:08:02.290 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-09 21:08:02.377 +03:00 [DBG] Connection id "0HN78HL8BNBHK" stopped.
2024-10-09 21:08:02.385 +03:00 [DBG] Connection id "0HN78HL8BNBHK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-09 21:08:02.424 +03:00 [DBG] Connection 0HN78HL8BNBHL established using the following protocol: "Tls12"
2024-10-09 21:08:02.484 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7206/api/cities/1/pointsofinterest/1 - null null
2024-10-09 21:08:02.507 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-09 21:08:02.567 +03:00 [DBG] DELETE requests are not supported
2024-10-09 21:08:02.614 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-10-09 21:08:02.625 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-10-09 21:08:02.631 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 21:08:02.640 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 21:08:02.698 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 21:08:02.709 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 21:08:02.714 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 21:08:02.718 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 21:08:02.727 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 21:08:02.732 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 21:08:02.741 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 21:08:03.434 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-09 21:08:03.749 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 21:08:03.760 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 21:08:03.767 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 21:08:03.778 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:03.782 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:03.785 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 21:08:03.792 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:03.798 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 21:08:03.801 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 21:08:03.806 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 21:08:03.810 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 21:08:03.814 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 21:08:03.818 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 21:08:06.209 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 21:08:06.292 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-09 21:08:06.618 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 21:08:06.700 +03:00 [DBG] Creating DbConnection.
2024-10-09 21:08:06.728 +03:00 [DBG] Created DbConnection. (28ms).
2024-10-09 21:08:06.736 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:06.764 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:06.775 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 21:08:06.789 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-09 21:08:06.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2024-10-09 21:08:06.817 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 21:08:06.862 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 21:08:06.883 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:06.901 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 21ms reading results.
2024-10-09 21:08:06.919 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:06.937 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (19ms).
2024-10-09 21:08:06.947 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-10-09 21:08:07.017 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-09 21:08:07.044 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:07.048 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:07.053 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 21:08:07.057 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 21:08:07.060 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-09 21:08:07.064 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 21:08:07.070 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 21:08:07.128 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 21:08:07.198 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:07.202 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 124ms reading results.
2024-10-09 21:08:07.209 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:07.212 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 21:08:07.253 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 21:08:07.277 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-10-09 21:08:07.286 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-10-09 21:08:07.362 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-10-09 21:08:07.626 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:07.643 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:07.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 21:08:07.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-09 21:08:07.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-09 21:08:07.668 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-10-09 21:08:07.689 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-10-09 21:08:07.809 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:07.841 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 139ms reading results.
2024-10-09 21:08:07.847 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:07.851 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-09 21:08:07.875 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 21:08:07.883 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-10-09 21:08:07.894 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-09 21:08:07.909 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 5159.0829ms
2024-10-09 21:08:07.914 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-10-09 21:08:07.926 +03:00 [DBG] Connection id "0HN78HL8BNBHL" completed keep alive response.
2024-10-09 21:08:07.958 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 21:08:07.993 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:08.099 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (105ms).
2024-10-09 21:08:08.118 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7206/api/cities/1/pointsofinterest/1 - 204 null null 5641.308ms
2024-10-09 21:08:16.281 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/1 - null null
2024-10-09 21:08:16.299 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 21:08:16.302 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-10-09 21:08:16.307 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-10-09 21:08:16.311 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 21:08:16.314 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 21:08:16.328 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 21:08:16.338 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 21:08:16.343 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 21:08:16.349 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 21:08:16.364 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 21:08:16.369 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 21:08:16.374 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 21:08:16.379 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 21:08:16.383 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 21:08:16.385 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 21:08:16.390 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:16.393 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:16.396 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 21:08:16.399 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:16.402 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 21:08:16.406 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-10-09 21:08:16.410 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 21:08:16.413 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 21:08:16.416 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-10-09 21:08:16.419 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-10-09 21:08:16.452 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 21:08:16.463 +03:00 [DBG] Creating DbConnection.
2024-10-09 21:08:16.466 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 21:08:16.470 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:16.478 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:16.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 21:08:16.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 21:08:16.490 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-09 21:08:16.494 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 21:08:16.500 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 21:08:16.509 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:16.512 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-09 21:08:16.516 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:16.519 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-09 21:08:16.526 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:16.529 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:16.532 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 21:08:16.535 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 21:08:16.546 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-09 21:08:16.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 21:08:16.569 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-10-09 21:08:16.589 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:16.598 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 11ms reading results.
2024-10-09 21:08:16.603 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:16.610 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 21:08:16.619 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 21:08:16.633 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 21:08:16.636 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-09 21:08:16.649 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-09 21:08:16.653 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-09 21:08:16.901 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 526.7624ms
2024-10-09 21:08:16.908 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-10-09 21:08:16.911 +03:00 [DBG] Connection id "0HN78HL8BNBHL" completed keep alive response.
2024-10-09 21:08:16.914 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 21:08:16.917 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:16.923 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-09 21:08:16.928 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 647.5956ms
2024-10-09 21:08:29.365 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - null null
2024-10-09 21:08:29.376 +03:00 [DBG] The request path  does not match the path filter
2024-10-09 21:08:29.379 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-10-09 21:08:29.382 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-10-09 21:08:29.385 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 21:08:29.390 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 21:08:29.398 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-09 21:08:29.404 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-09 21:08:29.408 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-09 21:08:29.412 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-09 21:08:29.416 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-09 21:08:29.420 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-09 21:08:29.425 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 21:08:29.433 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-09 21:08:29.441 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-09 21:08:29.445 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-09 21:08:29.451 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:29.458 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:29.462 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-09 21:08:29.467 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-09 21:08:29.600 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-09 21:08:29.611 +03:00 [DBG] Creating DbConnection.
2024-10-09 21:08:29.613 +03:00 [DBG] Created DbConnection. (2ms).
2024-10-09 21:08:29.617 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:29.621 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:29.626 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 21:08:29.630 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-09 21:08:29.634 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-09 21:08:29.640 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 21:08:29.646 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-09 21:08:29.657 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:29.662 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-10-09 21:08:29.668 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:29.675 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2024-10-09 21:08:29.709 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-10-09 21:08:29.719 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-09 21:08:29.727 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:29.730 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:29.733 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-09 21:08:29.735 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-09 21:08:29.739 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-09 21:08:29.743 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 21:08:29.748 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-09 21:08:29.754 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-09 21:08:29.759 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:29.762 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-10-09 21:08:29.765 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-09 21:08:29.768 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-09 21:08:29.795 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-09 21:08:29.802 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-09 21:08:29.804 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-09 21:08:29.808 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-09 21:08:29.810 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-09 21:08:29.813 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 21:08:29.834 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 408.7261ms
2024-10-09 21:08:29.841 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-09 21:08:29.845 +03:00 [DBG] Connection id "0HN78HL8BNBHL" completed keep alive response.
2024-10-09 21:08:29.848 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-09 21:08:29.852 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-09 21:08:29.863 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (11ms).
2024-10-09 21:08:29.868 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest - 200 110 application/json; charset=utf-8 503.0798ms
