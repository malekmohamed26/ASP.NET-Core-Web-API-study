2024-10-17 00:32:41.884 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 00:32:42.163 +03:00 [DBG] Hosting starting
2024-10-17 00:32:42.308 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 00:32:42.345 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 00:32:42.503 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 00:32:42.617 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 00:32:42.630 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 00:32:42.639 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 00:32:42.645 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 00:32:42.669 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 00:32:42.688 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 00:32:42.696 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 00:32:42.701 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 00:32:43.277 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 00:32:43.282 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 00:32:43.285 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 00:32:43.287 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 00:32:43.290 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 00:32:43.294 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 00:32:43.463 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 00:32:43.469 +03:00 [INF] Hosting environment: Development
2024-10-17 00:32:43.472 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 00:32:43.475 +03:00 [DBG] Hosting started
2024-10-17 00:37:39.874 +03:00 [DBG] Connection id "0HN7E5B17OPA1" received FIN.
2024-10-17 00:37:39.886 +03:00 [DBG] Connection id "0HN7E5B17OPA1" accepted.
2024-10-17 00:37:39.895 +03:00 [DBG] Connection id "0HN7E5B17OPA1" started.
2024-10-17 00:37:39.898 +03:00 [DBG] Connection id "0HN7E5B17OPA2" accepted.
2024-10-17 00:37:39.908 +03:00 [DBG] Connection id "0HN7E5B17OPA2" started.
2024-10-17 00:37:39.952 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 00:37:40.081 +03:00 [DBG] Connection id "0HN7E5B17OPA1" stopped.
2024-10-17 00:37:40.089 +03:00 [DBG] Connection 0HN7E5B17OPA2 established using the following protocol: "Tls12"
2024-10-17 00:37:40.096 +03:00 [DBG] Connection id "0HN7E5B17OPA1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 00:37:40.167 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-17 00:37:40.193 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 00:37:40.548 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 00:37:40.683 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 00:37:40.691 +03:00 [DBG] Request matched endpoint '400 Unspecified API Version'
2024-10-17 00:37:42.524 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 00:37:42.530 +03:00 [INF] Executing endpoint '400 Unspecified API Version'
2024-10-17 00:37:42.534 +03:00 [INF] Request did not specify an API version
2024-10-17 00:37:42.584 +03:00 [INF] Executed endpoint '400 Unspecified API Version'
2024-10-17 00:37:42.591 +03:00 [DBG] Connection id "0HN7E5B17OPA2" completed keep alive response.
2024-10-17 00:37:42.598 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 400 null application/problem+json 2439.3309ms
2024-10-17 00:40:18.149 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 00:40:18.436 +03:00 [DBG] Hosting starting
2024-10-17 00:40:18.586 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 00:40:18.632 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 00:40:18.664 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 00:40:18.700 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 00:40:18.714 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 00:40:18.853 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 00:40:18.862 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 00:40:18.880 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 00:40:18.885 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 00:40:18.894 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 00:40:18.898 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 00:40:19.928 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 00:40:19.933 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 00:40:19.936 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 00:40:19.939 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 00:40:19.943 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 00:40:19.947 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 00:40:20.201 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 00:40:20.218 +03:00 [INF] Hosting environment: Development
2024-10-17 00:40:20.222 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 00:40:20.241 +03:00 [DBG] Hosting started
2024-10-17 00:40:22.166 +03:00 [DBG] Connection id "0HN7E5CHJGB0B" received FIN.
2024-10-17 00:40:22.178 +03:00 [DBG] Connection id "0HN7E5CHJGB0B" accepted.
2024-10-17 00:40:22.182 +03:00 [DBG] Connection id "0HN7E5CHJGB0B" started.
2024-10-17 00:40:22.185 +03:00 [DBG] Connection id "0HN7E5CHJGB0C" accepted.
2024-10-17 00:40:22.190 +03:00 [DBG] Connection id "0HN7E5CHJGB0C" started.
2024-10-17 00:40:22.215 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 00:40:22.289 +03:00 [DBG] Connection id "0HN7E5CHJGB0B" stopped.
2024-10-17 00:40:22.303 +03:00 [DBG] Connection id "0HN7E5CHJGB0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 00:40:22.324 +03:00 [DBG] Connection 0HN7E5CHJGB0C established using the following protocol: "Tls12"
2024-10-17 00:40:22.387 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-17 00:40:22.403 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 00:40:22.445 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 00:40:22.596 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 00:40:22.610 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-17 00:40:22.636 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 00:40:22.790 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 00:40:22.803 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 00:40:22.880 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-17 00:40:22.893 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 00:40:22.898 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 00:40:22.903 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 00:40:22.923 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 00:40:22.928 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 00:40:22.938 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 00:40:23.739 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-17 00:40:24.115 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 00:40:24.127 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-10-17 00:40:24.133 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-10-17 00:40:24.139 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-10-17 00:40:24.145 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 00:40:24.148 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 00:40:24.154 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-10-17 00:40:24.162 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-10-17 00:40:24.169 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-10-17 00:40:24.173 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-10-17 00:40:24.178 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-10-17 00:40:24.187 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 00:40:24.193 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 00:40:24.198 +03:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-10-17 00:40:24.202 +03:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-10-17 00:40:24.205 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 00:40:24.210 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-10-17 00:40:24.217 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 00:40:24.222 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 00:40:24.229 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 00:40:24.234 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 00:40:24.239 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 00:40:24.246 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 00:40:24.250 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-10-17 00:40:24.254 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-10-17 00:40:24.264 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 00:40:24.268 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 00:40:24.278 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 00:40:24.283 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-10-17 00:40:26.916 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 00:40:26.966 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-10-17 00:40:27.330 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 00:40:27.396 +03:00 [DBG] Creating DbConnection.
2024-10-17 00:40:27.421 +03:00 [DBG] Created DbConnection. (24ms).
2024-10-17 00:40:27.432 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 00:40:27.474 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 00:40:27.487 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 00:40:27.503 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-17 00:40:27.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2024-10-17 00:40:27.536 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 00:40:27.583 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 00:40:27.605 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 00:40:27.621 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2024-10-17 00:40:27.639 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 00:40:27.660 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (18ms).
2024-10-17 00:40:27.691 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-17 00:40:27.857 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-17 00:40:27.901 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 00:40:27.915 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 00:40:27.919 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 00:40:27.923 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-17 00:40:27.936 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-17 00:40:27.963 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 00:40:28.038 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 00:40:28.121 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 00:40:28.169 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 00:40:28.177 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 00:40:28.183 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 00:40:28.187 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 134ms reading results.
2024-10-17 00:40:28.197 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 00:40:28.202 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-17 00:40:28.280 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 00:40:28.304 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-17 00:40:28.324 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 00:40:28.332 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 00:40:28.761 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5814.32ms
2024-10-17 00:40:28.774 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 00:40:28.780 +03:00 [DBG] Connection id "0HN7E5CHJGB0C" completed keep alive response.
2024-10-17 00:40:28.803 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 00:40:28.827 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 00:40:28.899 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (74ms).
2024-10-17 00:40:29.015 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 200 244 application/json; charset=utf-8 6607.7805ms
2024-10-17 00:41:06.669 +03:00 [DBG] Connection id "0HN7E5CHJGB0C" received FIN.
2024-10-17 00:41:06.702 +03:00 [DBG] Connection id "0HN7E5CHJGB0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 00:41:06.708 +03:00 [DBG] Connection id "0HN7E5CHJGB0C" disconnecting.
2024-10-17 00:41:06.741 +03:00 [DBG] Connection id "0HN7E5CHJGB0C" stopped.
2024-10-17 15:35:27.907 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 15:35:28.182 +03:00 [DBG] Hosting starting
2024-10-17 15:35:28.250 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 15:35:28.273 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 15:35:28.345 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 15:35:28.369 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 15:35:28.379 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:35:28.387 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 15:35:28.396 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:35:28.413 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 15:35:28.420 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 15:35:28.428 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 15:35:28.433 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 15:35:29.070 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 15:35:29.074 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 15:35:29.077 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 15:35:29.080 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 15:35:29.084 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 15:35:29.090 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 15:35:29.244 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 15:35:29.251 +03:00 [INF] Hosting environment: Development
2024-10-17 15:35:29.256 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 15:35:29.264 +03:00 [DBG] Hosting started
2024-10-17 15:35:35.894 +03:00 [DBG] Connection id "0HN7EL0PHHF7Q" received FIN.
2024-10-17 15:35:35.908 +03:00 [DBG] Connection id "0HN7EL0PHHF7Q" accepted.
2024-10-17 15:35:35.914 +03:00 [DBG] Connection id "0HN7EL0PHHF7Q" started.
2024-10-17 15:35:35.921 +03:00 [DBG] Connection id "0HN7EL0PHHF7R" accepted.
2024-10-17 15:35:35.926 +03:00 [DBG] Connection id "0HN7EL0PHHF7R" started.
2024-10-17 15:35:35.966 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:35:36.058 +03:00 [DBG] Connection id "0HN7EL0PHHF7Q" stopped.
2024-10-17 15:35:36.095 +03:00 [DBG] Connection id "0HN7EL0PHHF7Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:35:36.110 +03:00 [DBG] Connection 0HN7EL0PHHF7R established using the following protocol: "Tls12"
2024-10-17 15:35:36.193 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-17 15:35:36.218 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 15:35:36.310 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:35:36.492 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 15:35:36.513 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-17 15:35:36.556 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:35:38.776 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:35:38.786 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:35:38.877 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-17 15:35:38.888 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:35:38.893 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:35:38.901 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:35:38.913 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:35:38.923 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:35:38.936 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:35:40.072 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-17 15:35:40.480 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:35:40.505 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-10-17 15:35:40.513 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-10-17 15:35:40.521 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-10-17 15:35:40.528 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:35:40.533 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:35:40.541 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-10-17 15:35:40.548 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-10-17 15:35:40.559 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:35:40.563 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-10-17 15:35:40.572 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:35:40.578 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:35:40.582 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:35:40.590 +03:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:35:40.596 +03:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:35:40.599 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:35:40.607 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:35:40.611 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:35:40.616 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:35:40.623 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:35:40.626 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:35:40.631 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:35:40.638 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:35:40.642 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:35:40.645 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:35:40.652 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:35:40.654 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:35:40.661 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:35:40.666 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:35:43.383 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 15:35:43.432 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-10-17 15:35:43.798 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 15:35:43.870 +03:00 [DBG] Creating DbConnection.
2024-10-17 15:35:43.897 +03:00 [DBG] Created DbConnection. (26ms).
2024-10-17 15:35:43.909 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:35:44.013 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:35:44.025 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:35:44.044 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-10-17 15:35:44.054 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-10-17 15:35:44.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:35:44.120 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:35:44.143 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:35:44.158 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 20ms reading results.
2024-10-17 15:35:44.171 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:35:44.181 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (10ms).
2024-10-17 15:35:44.213 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-17 15:35:44.321 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-17 15:35:44.347 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:35:44.352 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:35:44.356 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:35:44.359 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-17 15:35:44.373 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-17 15:35:44.389 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:35:44.414 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:35:44.490 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:35:44.529 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:35:44.537 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:35:44.545 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:35:44.549 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 117ms reading results.
2024-10-17 15:35:44.565 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:35:44.573 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2024-10-17 15:35:44.653 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 15:35:44.672 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-17 15:35:44.680 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 15:35:44.690 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 15:35:45.130 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 6185.1674ms
2024-10-17 15:35:45.143 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:35:45.147 +03:00 [DBG] Connection id "0HN7EL0PHHF7R" completed keep alive response.
2024-10-17 15:35:45.202 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 15:35:45.293 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:35:46.831 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1540ms).
2024-10-17 15:35:46.839 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 200 244 application/json; charset=utf-8 10661.6706ms
2024-10-17 15:37:52.069 +03:00 [DBG] Connection id "0HN7EL0PHHF7S" received FIN.
2024-10-17 15:38:58.712 +03:00 [DBG] Connection id "0HN7EL0PHHF7S" accepted.
2024-10-17 15:38:58.726 +03:00 [DBG] Connection id "0HN7EL0PHHF7S" started.
2024-10-17 15:38:58.731 +03:00 [DBG] Connection id "0HN7EL0PHHF7T" received FIN.
2024-10-17 15:38:58.748 +03:00 [DBG] Connection id "0HN7EL0PHHF7T" accepted.
2024-10-17 15:38:58.749 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:38:58.752 +03:00 [DBG] Connection id "0HN7EL0PHHF7T" started.
2024-10-17 15:38:58.753 +03:00 [DBG] Connection id "0HN7EL0PHHF7U" received FIN.
2024-10-17 15:38:58.759 +03:00 [DBG] Connection id "0HN7EL0PHHF7S" stopped.
2024-10-17 15:38:58.764 +03:00 [DBG] Connection id "0HN7EL0PHHF7U" accepted.
2024-10-17 15:38:58.766 +03:00 [DBG] Connection id "0HN7EL0PHHF7S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:38:58.774 +03:00 [DBG] Connection id "0HN7EL0PHHF7U" started.
2024-10-17 15:38:58.769 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:38:58.774 +03:00 [DBG] Connection id "0HN7EL0PHHF7V" received FIN.
2024-10-17 15:38:58.787 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:38:58.798 +03:00 [DBG] Connection id "0HN7EL0PHHF7T" stopped.
2024-10-17 15:38:58.804 +03:00 [DBG] Connection id "0HN7EL0PHHF7V" accepted.
2024-10-17 15:38:58.817 +03:00 [DBG] Connection id "0HN7EL0PHHF7U" stopped.
2024-10-17 15:38:58.823 +03:00 [DBG] Connection id "0HN7EL0PHHF7T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:38:58.829 +03:00 [DBG] Connection id "0HN7EL0PHHF80" received FIN.
2024-10-17 15:38:58.828 +03:00 [DBG] Connection id "0HN7EL0PHHF7V" started.
2024-10-17 15:38:58.832 +03:00 [DBG] Connection id "0HN7EL0PHHF7U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:38:58.842 +03:00 [DBG] Connection id "0HN7EL0PHHF80" accepted.
2024-10-17 15:38:58.850 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:38:58.856 +03:00 [DBG] Connection id "0HN7EL0PHHF80" started.
2024-10-17 15:38:58.857 +03:00 [DBG] Connection id "0HN7EL0PHHF81" received FIN.
2024-10-17 15:38:58.872 +03:00 [DBG] Connection id "0HN7EL0PHHF7V" stopped.
2024-10-17 15:38:58.876 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:38:58.878 +03:00 [DBG] Connection id "0HN7EL0PHHF81" accepted.
2024-10-17 15:38:58.881 +03:00 [DBG] Connection id "0HN7EL0PHHF7V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:38:58.895 +03:00 [DBG] Connection id "0HN7EL0PHHF80" stopped.
2024-10-17 15:38:58.899 +03:00 [DBG] Connection id "0HN7EL0PHHF81" started.
2024-10-17 15:38:58.910 +03:00 [DBG] Connection id "0HN7EL0PHHF80" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:38:58.927 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:38:58.974 +03:00 [DBG] Connection id "0HN7EL0PHHF81" stopped.
2024-10-17 15:38:58.979 +03:00 [DBG] Connection id "0HN7EL0PHHF81" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:39:00.002 +03:00 [INF] Application is shutting down...
2024-10-17 15:39:00.018 +03:00 [DBG] Hosting stopping
2024-10-17 15:39:00.057 +03:00 [DBG] Connection id "0HN7EL0PHHF7R" disconnecting.
2024-10-17 15:39:00.063 +03:00 [DBG] Connection id "0HN7EL0PHHF7R" stopped.
2024-10-17 15:39:00.066 +03:00 [DBG] Connection id "0HN7EL0PHHF7R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:39:00.081 +03:00 [DBG] Hosting stopped
2024-10-17 15:39:18.636 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 15:39:19.365 +03:00 [DBG] Hosting starting
2024-10-17 15:39:19.587 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 15:39:19.620 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 15:39:19.689 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 15:39:19.748 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 15:39:19.766 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:39:19.781 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 15:39:19.787 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:39:19.807 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 15:39:19.815 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 15:39:19.823 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 15:39:19.833 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 15:39:20.371 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 15:39:20.377 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 15:39:20.382 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 15:39:20.385 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 15:39:20.389 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 15:39:20.392 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 15:39:20.536 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 15:39:20.538 +03:00 [INF] Hosting environment: Development
2024-10-17 15:39:20.542 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 15:39:20.545 +03:00 [DBG] Hosting started
2024-10-17 15:39:30.139 +03:00 [DBG] Connection id "0HN7EL2VBF5SC" received FIN.
2024-10-17 15:39:30.156 +03:00 [DBG] Connection id "0HN7EL2VBF5SC" accepted.
2024-10-17 15:39:30.164 +03:00 [DBG] Connection id "0HN7EL2VBF5SC" started.
2024-10-17 15:39:30.167 +03:00 [DBG] Connection id "0HN7EL2VBF5SD" accepted.
2024-10-17 15:39:30.172 +03:00 [DBG] Connection id "0HN7EL2VBF5SD" started.
2024-10-17 15:39:30.203 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:39:30.302 +03:00 [DBG] Connection id "0HN7EL2VBF5SC" stopped.
2024-10-17 15:39:30.306 +03:00 [DBG] Connection id "0HN7EL2VBF5SC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:39:30.313 +03:00 [DBG] Connection 0HN7EL2VBF5SD established using the following protocol: "Tls12"
2024-10-17 15:39:30.380 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7206/api/authentication/authenticate - application/json 114
2024-10-17 15:39:30.404 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 15:39:30.433 +03:00 [DBG] POST requests are not supported
2024-10-17 15:39:30.617 +03:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2024-10-17 15:39:30.649 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2024-10-17 15:39:30.681 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-10-17 15:39:30.831 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:39:30.840 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-10-17 15:39:30.892 +03:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2024-10-17 15:39:30.904 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:39:30.909 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:39:30.915 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:39:30.924 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:39:30.934 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:39:30.942 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2024-10-17 15:39:30.951 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2024-10-17 15:39:30.962 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2024-10-17 15:39:30.974 +03:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2024-10-17 15:39:30.983 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-10-17 15:39:30.991 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-10-17 15:39:31.022 +03:00 [DBG] Connection id "0HN7EL2VBF5SD", Request id "0HN7EL2VBF5SD:00000001": started reading request body.
2024-10-17 15:39:31.031 +03:00 [DBG] Connection id "0HN7EL2VBF5SD", Request id "0HN7EL2VBF5SD:00000001": done reading request body.
2024-10-17 15:39:31.251 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-10-17 15:39:31.255 +03:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-10-17 15:39:31.263 +03:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2024-10-17 15:39:31.281 +03:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2024-10-17 15:39:31.501 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 15:39:31.515 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-17 15:39:31.518 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-17 15:39:31.521 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-17 15:39:31.525 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-17 15:39:31.534 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-10-17 15:39:31.563 +03:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 614.4669ms
2024-10-17 15:39:31.571 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2024-10-17 15:39:31.575 +03:00 [DBG] Connection id "0HN7EL2VBF5SD" completed keep alive response.
2024-10-17 15:39:31.587 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7206/api/authentication/authenticate - 200 null text/plain; charset=utf-8 1217.3727ms
2024-10-17 15:39:39.919 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest - null null
2024-10-17 15:39:39.935 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:39:39.940 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:39:39.945 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:39:39.951 +03:00 [DBG] Request matched endpoint '400 Unsupported API Version'
2024-10-17 15:39:40.070 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-17 15:39:40.100 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-10-17 15:39:40.106 +03:00 [INF] Executing endpoint '400 Unsupported API Version'
2024-10-17 15:39:40.157 +03:00 [INF] Executed endpoint '400 Unsupported API Version'
2024-10-17 15:39:40.163 +03:00 [DBG] Connection id "0HN7EL2VBF5SD" completed keep alive response.
2024-10-17 15:39:40.169 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest - 400 null application/problem+json 249.1869ms
2024-10-17 15:40:55.637 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 15:40:56.191 +03:00 [DBG] Hosting starting
2024-10-17 15:40:56.278 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 15:40:56.400 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 15:40:56.444 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 15:40:56.509 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 15:40:56.552 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:40:56.560 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 15:40:56.568 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:40:56.586 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 15:40:56.593 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 15:40:56.607 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 15:40:56.616 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 15:40:57.043 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 15:40:57.048 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 15:40:57.051 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 15:40:57.054 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 15:40:57.060 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 15:40:57.063 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 15:40:57.188 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 15:40:57.190 +03:00 [INF] Hosting environment: Development
2024-10-17 15:40:57.194 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 15:40:57.201 +03:00 [DBG] Hosting started
2024-10-17 15:41:18.329 +03:00 [DBG] Connection id "0HN7EL3VJ869R" received FIN.
2024-10-17 15:41:18.343 +03:00 [DBG] Connection id "0HN7EL3VJ869R" accepted.
2024-10-17 15:41:18.350 +03:00 [DBG] Connection id "0HN7EL3VJ869R" started.
2024-10-17 15:41:18.388 +03:00 [DBG] Connection id "0HN7EL3VJ869S" accepted.
2024-10-17 15:41:18.392 +03:00 [DBG] Connection id "0HN7EL3VJ869S" started.
2024-10-17 15:41:18.428 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:41:18.508 +03:00 [DBG] Connection id "0HN7EL3VJ869R" stopped.
2024-10-17 15:41:18.518 +03:00 [DBG] Connection id "0HN7EL3VJ869R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:41:18.535 +03:00 [DBG] Connection 0HN7EL3VJ869S established using the following protocol: "Tls12"
2024-10-17 15:41:18.591 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest - null null
2024-10-17 15:41:18.626 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 15:41:18.671 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:41:18.812 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:41:18.869 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:41:18.912 +03:00 [DBG] Request matched endpoint '400 Unsupported API Version'
2024-10-17 15:41:19.195 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-17 15:41:19.220 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-10-17 15:41:19.234 +03:00 [INF] Executing endpoint '400 Unsupported API Version'
2024-10-17 15:41:19.274 +03:00 [INF] Executed endpoint '400 Unsupported API Version'
2024-10-17 15:41:19.278 +03:00 [DBG] Connection id "0HN7EL3VJ869S" completed keep alive response.
2024-10-17 15:41:19.292 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest - 400 null application/problem+json 716.0657ms
2024-10-17 15:41:23.707 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-17 15:41:23.717 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:41:23.721 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 15:41:23.725 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-17 15:41:23.733 +03:00 [DBG] Request matched endpoint '400 Unsupported API Version'
2024-10-17 15:41:23.737 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:41:23.753 +03:00 [INF] Executing endpoint '400 Unsupported API Version'
2024-10-17 15:41:23.758 +03:00 [INF] Executed endpoint '400 Unsupported API Version'
2024-10-17 15:41:23.761 +03:00 [DBG] Connection id "0HN7EL3VJ869S" completed keep alive response.
2024-10-17 15:41:23.769 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 400 null application/problem+json 61.4453ms
2024-10-17 15:42:24.329 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 15:42:47.777 +03:00 [DBG] Hosting starting
2024-10-17 15:42:47.833 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 15:42:47.855 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 15:42:47.874 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 15:42:47.893 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 15:42:47.903 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:42:47.909 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 15:42:47.914 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:42:47.928 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 15:42:47.937 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 15:42:47.944 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 15:42:47.951 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 15:42:48.372 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 15:42:48.375 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 15:42:48.377 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 15:42:48.380 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 15:42:48.383 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 15:42:48.387 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 15:42:48.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 15:42:48.521 +03:00 [INF] Hosting environment: Development
2024-10-17 15:42:48.527 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 15:42:48.536 +03:00 [DBG] Hosting started
2024-10-17 15:43:12.062 +03:00 [DBG] Connection id "0HN7EL51FSR7L" received FIN.
2024-10-17 15:43:12.077 +03:00 [DBG] Connection id "0HN7EL51FSR7L" accepted.
2024-10-17 15:43:12.087 +03:00 [DBG] Connection id "0HN7EL51FSR7L" started.
2024-10-17 15:43:12.095 +03:00 [DBG] Connection id "0HN7EL51FSR7M" accepted.
2024-10-17 15:43:12.099 +03:00 [DBG] Connection id "0HN7EL51FSR7M" started.
2024-10-17 15:43:12.125 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:43:12.211 +03:00 [DBG] Connection id "0HN7EL51FSR7L" stopped.
2024-10-17 15:43:12.220 +03:00 [DBG] Connection id "0HN7EL51FSR7L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:43:12.266 +03:00 [DBG] Connection 0HN7EL51FSR7M established using the following protocol: "Tls12"
2024-10-17 15:43:12.332 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-17 15:43:12.356 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 15:43:12.410 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:43:12.583 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 15:43:12.601 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-17 15:43:12.629 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:43:12.745 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:43:12.752 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:43:12.831 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-17 15:43:12.845 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:43:12.850 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:43:12.860 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:43:12.876 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:43:12.888 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:43:12.899 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:43:13.123 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-17 15:43:13.470 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:43:13.491 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-10-17 15:43:13.499 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-10-17 15:43:13.509 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-10-17 15:43:13.515 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:43:13.527 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:43:13.531 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-10-17 15:43:13.555 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-10-17 15:43:13.565 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:43:13.577 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-10-17 15:43:13.581 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:43:13.591 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:43:13.595 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:43:13.600 +03:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:43:13.609 +03:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:43:13.613 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:43:13.617 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:43:13.625 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:43:13.631 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:43:13.638 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:43:13.642 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:43:13.647 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:43:13.654 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:43:13.658 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:43:13.662 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:43:13.678 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:43:13.683 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:43:13.689 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:43:13.694 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:43:15.417 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 15:43:15.473 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-10-17 15:43:16.150 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 15:43:16.220 +03:00 [DBG] Creating DbConnection.
2024-10-17 15:43:16.245 +03:00 [DBG] Created DbConnection. (20ms).
2024-10-17 15:43:16.258 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:43:16.306 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:16.316 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:43:16.333 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-17 15:43:16.341 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-10-17 15:43:16.362 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:43:16.412 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:43:16.434 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:16.450 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 21ms reading results.
2024-10-17 15:43:16.463 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:16.473 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (10ms).
2024-10-17 15:43:16.510 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-17 15:43:16.622 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-17 15:43:16.648 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:43:16.655 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:16.660 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:43:16.663 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-17 15:43:16.677 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-17 15:43:16.689 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:43:16.713 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:43:16.806 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:43:16.849 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:43:16.861 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:43:16.876 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:16.888 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 155ms reading results.
2024-10-17 15:43:16.896 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:16.900 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-17 15:43:16.973 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 15:43:16.999 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-17 15:43:17.008 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 15:43:17.017 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 15:43:17.400 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4465.6282ms
2024-10-17 15:43:17.459 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:43:17.473 +03:00 [DBG] Connection id "0HN7EL51FSR7M" completed keep alive response.
2024-10-17 15:43:17.493 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 15:43:17.520 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:43:17.535 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (16ms).
2024-10-17 15:43:17.550 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 200 244 application/json; charset=utf-8 5223.8523ms
2024-10-17 15:43:38.832 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest?api-version=2 - null null
2024-10-17 15:43:38.850 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:43:38.867 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:43:38.872 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:43:38.878 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:43:39.025 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-17 15:43:39.048 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-10-17 15:43:39.057 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:43:39.073 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-17 15:43:39.080 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:43:39.084 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:43:39.091 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:43:39.098 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:43:39.105 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:43:39.112 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-17 15:43:39.121 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-17 15:43:39.126 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-17 15:43:39.130 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-17 15:43:39.140 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:43:39.143 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:43:39.147 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-17 15:43:39.155 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:43:39.199 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 15:43:39.224 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2024-10-17 15:43:39.297 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 15:43:39.338 +03:00 [DBG] Creating DbConnection.
2024-10-17 15:43:39.342 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-17 15:43:39.346 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:43:39.356 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:39.360 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:43:39.364 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-17 15:43:39.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-17 15:43:39.376 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 0
2024-10-17 15:43:39.383 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 0
2024-10-17 15:43:39.396 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:39.399 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-10-17 15:43:39.409 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:43:39.414 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-17 15:43:39.427 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-10-17 15:43:39.441 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-10-17 15:43:39.444 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 332.6433ms
2024-10-17 15:43:39.449 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:43:39.456 +03:00 [DBG] Connection id "0HN7EL51FSR7M" completed keep alive response.
2024-10-17 15:43:39.465 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 15:43:39.474 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:43:39.480 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-17 15:43:39.489 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest?api-version=2 - 403 0 null 656.6849ms
2024-10-17 15:44:55.257 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 15:44:55.500 +03:00 [DBG] Hosting starting
2024-10-17 15:44:55.565 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 15:44:55.584 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 15:44:55.633 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 15:44:55.653 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 15:44:55.663 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:44:55.671 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 15:44:55.678 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:44:55.701 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 15:44:55.709 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 15:44:55.714 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 15:44:55.720 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 15:44:56.476 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 15:44:56.478 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 15:44:56.482 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 15:44:56.490 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 15:44:56.493 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 15:44:56.499 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 15:44:56.729 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 15:44:56.737 +03:00 [INF] Hosting environment: Development
2024-10-17 15:44:56.741 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 15:44:56.745 +03:00 [DBG] Hosting started
2024-10-17 15:45:11.224 +03:00 [DBG] Connection id "0HN7EL650A578" received FIN.
2024-10-17 15:45:11.241 +03:00 [DBG] Connection id "0HN7EL650A578" accepted.
2024-10-17 15:45:11.246 +03:00 [DBG] Connection id "0HN7EL650A578" started.
2024-10-17 15:45:11.252 +03:00 [DBG] Connection id "0HN7EL650A579" accepted.
2024-10-17 15:45:11.258 +03:00 [DBG] Connection id "0HN7EL650A579" started.
2024-10-17 15:45:11.284 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:45:11.369 +03:00 [DBG] Connection id "0HN7EL650A578" stopped.
2024-10-17 15:45:11.379 +03:00 [DBG] Connection id "0HN7EL650A578" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:45:11.379 +03:00 [DBG] Connection 0HN7EL650A579 established using the following protocol: "Tls12"
2024-10-17 15:45:11.455 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest?api-version=2 - null null
2024-10-17 15:45:11.476 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 15:45:11.512 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:45:11.629 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:45:11.637 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2024-10-17 15:45:11.662 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:45:11.917 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-17 15:45:11.942 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-10-17 15:45:11.954 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:45:12.016 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-17 15:45:12.030 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:45:12.034 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:45:12.044 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:45:12.053 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:45:12.063 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:45:12.080 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-17 15:45:12.310 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-17 15:45:12.646 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-17 15:45:12.657 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-17 15:45:12.666 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-17 15:45:12.671 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:45:12.675 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:45:12.682 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-17 15:45:12.693 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:45:14.208 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 15:45:14.276 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-10-17 15:45:14.626 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 15:45:14.708 +03:00 [DBG] Creating DbConnection.
2024-10-17 15:45:14.743 +03:00 [DBG] Created DbConnection. (25ms).
2024-10-17 15:45:14.754 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:45:14.783 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:45:14.795 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:45:14.810 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-17 15:45:14.821 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-10-17 15:45:14.843 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-17 15:45:14.908 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-17 15:45:14.939 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:45:14.985 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 33ms reading results.
2024-10-17 15:45:15.004 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:45:15.022 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (17ms).
2024-10-17 15:45:15.046 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-10-17 15:45:15.142 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-17 15:45:15.177 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:45:15.182 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:45:15.186 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:45:15.188 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-17 15:45:15.195 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-17 15:45:15.199 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-17 15:45:15.240 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-17 15:45:15.283 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:45:15.319 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:45:15.326 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:45:15.332 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 83ms reading results.
2024-10-17 15:45:15.337 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:45:15.343 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-17 15:45:15.388 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 15:45:15.410 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-17 15:45:15.412 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-17 15:45:15.416 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-17 15:45:15.420 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 15:45:15.432 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 15:45:15.675 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3589.2659ms
2024-10-17 15:45:15.681 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:45:15.697 +03:00 [DBG] Connection id "0HN7EL650A579" completed keep alive response.
2024-10-17 15:45:15.711 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 15:45:15.721 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:45:15.731 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-17 15:45:15.739 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/2/pointsofinterest?api-version=2 - 200 246 application/json; charset=utf-8 4299.9407ms
2024-10-17 15:56:09.864 +03:00 [DBG] Connection id "0HN7EL650A57A" received FIN.
2024-10-17 15:56:09.878 +03:00 [DBG] Connection id "0HN7EL650A57A" accepted.
2024-10-17 15:56:09.881 +03:00 [DBG] Connection id "0HN7EL650A57A" started.
2024-10-17 15:56:09.896 +03:00 [DBG] Connection id "0HN7EL650A57B" accepted.
2024-10-17 15:56:09.903 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:56:09.905 +03:00 [DBG] Connection id "0HN7EL650A57B" started.
2024-10-17 15:56:09.928 +03:00 [DBG] Connection id "0HN7EL650A57A" stopped.
2024-10-17 15:56:09.948 +03:00 [DBG] Connection id "0HN7EL650A57A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:56:09.959 +03:00 [DBG] Connection 0HN7EL650A57B established using the following protocol: "Tls12"
2024-10-17 15:56:09.968 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest?api-version=2 - null null
2024-10-17 15:56:09.979 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:56:09.985 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-10-17 15:56:09.988 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-10-17 15:56:09.995 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:56:10.005 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-17 15:56:10.026 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'mpiCqZysXa7yWEWPxu9i2UVlHup2WCCtOs2FSfrCOPo'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-10-17 15:56:10.032 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:56:10.043 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-10-17 15:56:10.053 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:56:10.057 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:56:10.061 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:56:10.072 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:56:10.076 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:56:10.082 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-17 15:56:10.094 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-10-17 15:56:10.099 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-10-17 15:56:10.108 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-10-17 15:56:10.111 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:56:10.120 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:56:10.124 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-10-17 15:56:10.129 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-10-17 15:56:10.232 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 15:56:10.544 +03:00 [DBG] Creating DbConnection.
2024-10-17 15:56:10.547 +03:00 [DBG] Created DbConnection. (3ms).
2024-10-17 15:56:10.554 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:56:10.559 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:56:10.562 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:56:10.570 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-17 15:56:10.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-10-17 15:56:10.585 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-17 15:56:10.609 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-10-17 15:56:10.621 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:56:10.624 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-17 15:56:10.637 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:56:10.644 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2024-10-17 15:56:10.651 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:56:10.654 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:56:10.659 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:56:10.662 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-17 15:56:10.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-10-17 15:56:10.671 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-17 15:56:10.680 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-10-17 15:56:10.691 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:56:10.696 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:56:10.699 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2024-10-17 15:56:10.707 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:56:10.710 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-17 15:56:10.717 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 15:56:10.728 +03:00 [DBG] No information found on request to perform content negotiation.
2024-10-17 15:56:10.730 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-17 15:56:10.737 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-17 15:56:10.740 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 15:56:10.744 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 15:56:10.754 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 672.7308ms
2024-10-17 15:56:10.759 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-10-17 15:56:10.768 +03:00 [DBG] Connection id "0HN7EL650A57B" completed keep alive response.
2024-10-17 15:56:10.772 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 15:56:10.776 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:56:10.793 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (17ms).
2024-10-17 15:56:10.823 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities/1/pointsofinterest?api-version=2 - 200 110 application/json; charset=utf-8 854.9589ms
2024-10-17 15:56:38.553 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/citiest?api-version=2 - null null
2024-10-17 15:56:38.561 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:56:38.563 +03:00 [DBG] No candidates found for the request path '/api/citiest'
2024-10-17 15:56:38.566 +03:00 [DBG] Request did not match any endpoints
2024-10-17 15:56:38.575 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:56:38.578 +03:00 [DBG] Connection id "0HN7EL650A57B" completed keep alive response.
2024-10-17 15:56:38.581 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/citiest?api-version=2 - 404 0 null 28.8265ms
2024-10-17 15:56:38.600 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7206/api/citiest, Response status code: 404
2024-10-17 15:56:54.858 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities?api-version=2 - null null
2024-10-17 15:56:54.879 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:56:54.883 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 15:56:54.890 +03:00 [DBG] Request matched endpoint '400 Unsupported API Version'
2024-10-17 15:56:54.894 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:56:54.897 +03:00 [INF] Executing endpoint '400 Unsupported API Version'
2024-10-17 15:56:54.940 +03:00 [INF] Executed endpoint '400 Unsupported API Version'
2024-10-17 15:56:54.945 +03:00 [DBG] Connection id "0HN7EL650A57B" completed keep alive response.
2024-10-17 15:56:54.949 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities?api-version=2 - 400 null application/problem+json 90.6317ms
2024-10-17 15:57:02.464 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities - null null
2024-10-17 15:57:02.473 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:57:02.476 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 15:57:02.479 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-17 15:57:02.489 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:57:02.492 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:57:02.495 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:57:02.510 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-17 15:57:02.521 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:57:02.525 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:57:02.529 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:57:02.541 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:57:02.545 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:57:02.555 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:57:02.563 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:57:02.566 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-10-17 15:57:02.571 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-10-17 15:57:02.576 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-10-17 15:57:02.582 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:57:02.589 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:57:02.597 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-10-17 15:57:02.607 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-10-17 15:57:02.613 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:57:02.626 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-10-17 15:57:02.631 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:57:02.637 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:57:02.644 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:57:02.648 +03:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:57:02.653 +03:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:57:02.658 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:57:02.661 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:57:02.665 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:57:02.671 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:57:02.677 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:57:02.680 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:57:02.684 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:57:02.690 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:57:02.694 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:57:02.698 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:57:02.706 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:57:02.709 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:57:02.713 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:57:02.716 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:57:02.895 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 15:57:02.905 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-10-17 15:57:02.975 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 15:57:02.995 +03:00 [DBG] Creating DbConnection.
2024-10-17 15:57:02.997 +03:00 [DBG] Created DbConnection. (1ms).
2024-10-17 15:57:03.000 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:57:03.009 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:57:03.013 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:57:03.016 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-17 15:57:03.024 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-17 15:57:03.029 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:57:03.048 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:57:03.075 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:57:03.078 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-17 15:57:03.084 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:57:03.089 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-17 15:57:03.106 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-17 15:57:03.133 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-17 15:57:03.150 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:57:03.154 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:57:03.161 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:57:03.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-17 15:57:03.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-17 15:57:03.178 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:57:03.186 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:57:03.206 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:57:03.219 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:57:03.225 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:57:03.230 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:57:03.233 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 33ms reading results.
2024-10-17 15:57:03.246 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:57:03.256 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (10ms).
2024-10-17 15:57:03.305 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 15:57:03.315 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-17 15:57:03.321 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 15:57:03.324 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 15:57:03.339 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 784.4596ms
2024-10-17 15:57:03.343 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:57:03.349 +03:00 [DBG] Connection id "0HN7EL650A57B" completed keep alive response.
2024-10-17 15:57:03.355 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 15:57:03.359 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:57:03.375 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (15ms).
2024-10-17 15:57:03.387 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities - 200 244 application/json; charset=utf-8 923.5988ms
2024-10-17 15:58:30.856 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 15:58:31.084 +03:00 [DBG] Hosting starting
2024-10-17 15:58:31.173 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 15:58:31.203 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 15:58:31.223 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 15:58:31.243 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 15:58:31.254 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:58:31.262 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 15:58:31.269 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 15:58:31.287 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 15:58:31.297 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 15:58:31.306 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 15:58:31.313 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 15:58:31.734 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 15:58:31.736 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 15:58:31.740 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 15:58:31.743 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 15:58:31.747 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 15:58:31.750 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 15:58:32.004 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 15:58:32.085 +03:00 [INF] Hosting environment: Development
2024-10-17 15:58:32.093 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 15:58:32.111 +03:00 [DBG] Hosting started
2024-10-17 15:59:07.354 +03:00 [DBG] Connection id "0HN7ELDU68OQL" received FIN.
2024-10-17 15:59:07.366 +03:00 [DBG] Connection id "0HN7ELDU68OQL" accepted.
2024-10-17 15:59:07.372 +03:00 [DBG] Connection id "0HN7ELDU68OQL" started.
2024-10-17 15:59:07.395 +03:00 [DBG] Connection id "0HN7ELDU68OQM" accepted.
2024-10-17 15:59:07.411 +03:00 [DBG] Connection id "0HN7ELDU68OQM" started.
2024-10-17 15:59:07.435 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 15:59:07.521 +03:00 [DBG] Connection id "0HN7ELDU68OQL" stopped.
2024-10-17 15:59:07.526 +03:00 [DBG] Connection 0HN7ELDU68OQM established using the following protocol: "Tls12"
2024-10-17 15:59:07.528 +03:00 [DBG] Connection id "0HN7ELDU68OQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 15:59:07.584 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities?api-version=2 - null null
2024-10-17 15:59:07.611 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 15:59:07.659 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 15:59:07.799 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 15:59:07.812 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-17 15:59:07.845 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:59:07.973 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 15:59:07.981 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:59:08.053 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-17 15:59:08.067 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 15:59:08.071 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 15:59:08.080 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:59:08.088 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 15:59:08.096 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 15:59:08.104 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:59:08.365 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-17 15:59:08.727 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 15:59:08.736 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-10-17 15:59:08.750 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-10-17 15:59:08.754 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-10-17 15:59:08.762 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:59:08.765 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 15:59:08.769 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-10-17 15:59:08.778 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-10-17 15:59:08.783 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:59:08.787 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-10-17 15:59:08.792 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:59:08.799 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:59:08.803 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:59:08.809 +03:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-10-17 15:59:08.814 +03:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-10-17 15:59:08.818 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:59:08.821 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:59:08.829 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:59:08.834 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:59:08.839 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:59:08.846 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 15:59:08.851 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 15:59:08.856 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:59:08.862 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-10-17 15:59:08.865 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:59:08.872 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:59:08.878 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:59:08.881 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 15:59:08.886 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-10-17 15:59:10.396 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 15:59:10.471 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-10-17 15:59:10.837 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 15:59:10.929 +03:00 [DBG] Creating DbConnection.
2024-10-17 15:59:10.952 +03:00 [DBG] Created DbConnection. (19ms).
2024-10-17 15:59:10.963 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:59:10.989 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:59:10.999 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:59:11.017 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-17 15:59:11.022 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-10-17 15:59:11.044 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:59:11.101 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 15:59:11.144 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:59:11.164 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 39ms reading results.
2024-10-17 15:59:11.179 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:59:11.192 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (11ms).
2024-10-17 15:59:11.213 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-17 15:59:11.333 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-17 15:59:11.356 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:59:11.361 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:59:11.365 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 15:59:11.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-17 15:59:11.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-10-17 15:59:11.393 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:59:11.408 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 15:59:11.462 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:59:11.501 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:59:11.509 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 15:59:11.518 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:59:11.532 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 112ms reading results.
2024-10-17 15:59:11.560 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 15:59:11.566 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-17 15:59:11.618 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 15:59:11.631 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-17 15:59:11.636 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 15:59:11.645 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 15:59:11.912 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3799.0739ms
2024-10-17 15:59:11.917 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 15:59:11.921 +03:00 [DBG] Connection id "0HN7ELDU68OQM" completed keep alive response.
2024-10-17 15:59:11.932 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 15:59:11.961 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 15:59:11.973 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (20ms).
2024-10-17 15:59:11.996 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities?api-version=2 - 200 244 application/json; charset=utf-8 4419.3182ms
2024-10-17 22:01:02.598 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 22:01:02.885 +03:00 [DBG] Hosting starting
2024-10-17 22:01:02.977 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 22:01:03.000 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 22:01:03.038 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 22:01:03.061 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 22:01:03.070 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 22:01:03.076 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 22:01:03.081 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 22:01:03.094 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 22:01:03.100 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 22:01:03.106 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 22:01:03.110 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 22:01:03.525 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 22:01:03.528 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 22:01:03.530 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 22:01:03.533 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 22:01:03.537 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 22:01:03.540 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 22:01:03.700 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 22:01:03.741 +03:00 [INF] Hosting environment: Development
2024-10-17 22:01:03.744 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 22:01:03.747 +03:00 [DBG] Hosting started
2024-10-17 22:02:33.565 +03:00 [DBG] Connection id "0HN7ERP0UGAMP" received FIN.
2024-10-17 22:02:33.579 +03:00 [DBG] Connection id "0HN7ERP0UGAMP" accepted.
2024-10-17 22:02:33.593 +03:00 [DBG] Connection id "0HN7ERP0UGAMP" started.
2024-10-17 22:02:33.597 +03:00 [DBG] Connection id "0HN7ERP0UGAMQ" accepted.
2024-10-17 22:02:33.600 +03:00 [DBG] Connection id "0HN7ERP0UGAMQ" started.
2024-10-17 22:02:33.641 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 22:02:33.743 +03:00 [DBG] Connection id "0HN7ERP0UGAMP" stopped.
2024-10-17 22:02:33.770 +03:00 [DBG] Connection id "0HN7ERP0UGAMP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 22:02:33.771 +03:00 [DBG] Connection 0HN7ERP0UGAMQ established using the following protocol: "Tls12"
2024-10-17 22:02:33.832 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/cities?api-version=2 - null null
2024-10-17 22:02:33.854 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 22:02:33.899 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 22:02:34.073 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-10-17 22:02:34.083 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-10-17 22:02:34.104 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 22:02:36.105 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 22:02:36.115 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 22:02:36.175 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-10-17 22:02:36.183 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 22:02:36.187 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 22:02:36.191 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 22:02:36.196 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 22:02:36.200 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 22:02:36.209 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 22:02:37.011 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-17 22:02:37.442 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-10-17 22:02:37.453 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-10-17 22:02:37.463 +03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-10-17 22:02:37.468 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-10-17 22:02:37.473 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 22:02:37.475 +03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-10-17 22:02:37.478 +03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-10-17 22:02:37.484 +03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-10-17 22:02:37.490 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-10-17 22:02:37.493 +03:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-10-17 22:02:37.496 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-10-17 22:02:37.500 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 22:02:37.505 +03:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-10-17 22:02:37.508 +03:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-10-17 22:02:37.511 +03:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-10-17 22:02:37.514 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 22:02:37.517 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-10-17 22:02:37.524 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 22:02:37.528 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 22:02:37.531 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 22:02:37.536 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-10-17 22:02:37.540 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-10-17 22:02:37.543 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 22:02:37.546 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-10-17 22:02:37.550 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-10-17 22:02:37.555 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 22:02:37.558 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-10-17 22:02:37.561 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-10-17 22:02:37.564 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-10-17 22:02:40.320 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-10-17 22:02:40.367 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-10-17 22:02:40.743 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-17 22:02:40.809 +03:00 [DBG] Creating DbConnection.
2024-10-17 22:02:40.839 +03:00 [DBG] Created DbConnection. (31ms).
2024-10-17 22:02:40.847 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 22:02:40.893 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 22:02:40.909 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 22:02:40.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2024-10-17 22:02:40.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2024-10-17 22:02:40.963 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 22:02:41.000 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-10-17 22:02:41.021 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 22:02:41.034 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 19ms reading results.
2024-10-17 22:02:41.046 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 22:02:41.057 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-10-17 22:02:41.076 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-17 22:02:41.204 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-10-17 22:02:41.222 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-17 22:02:41.225 +03:00 [DBG] Opened connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 22:02:41.228 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-17 22:02:41.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-17 22:02:41.239 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-17 22:02:41.246 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 22:02:41.261 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-10-17 22:02:41.312 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 22:02:41.391 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 22:02:41.396 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-17 22:02:41.403 +03:00 [DBG] Closing data reader to 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 22:02:41.407 +03:00 [DBG] A data reader for 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 136ms reading results.
2024-10-17 22:02:41.412 +03:00 [DBG] Closing connection to database 'main' on server 'E:\Coding\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2024-10-17 22:02:41.416 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-17 22:02:41.473 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 22:02:41.488 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-10-17 22:02:41.494 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-17 22:02:41.499 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-17 22:02:41.910 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5692.7964ms
2024-10-17 22:02:41.914 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-10-17 22:02:41.920 +03:00 [DBG] Connection id "0HN7ERP0UGAMQ" completed keep alive response.
2024-10-17 22:02:41.932 +03:00 [DBG] 'CityInfoContext' disposed.
2024-10-17 22:02:41.953 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-17 22:02:41.972 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (20ms).
2024-10-17 22:02:41.979 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/cities?api-version=2 - 200 244 application/json; charset=utf-8 8155.1895ms
2024-10-17 23:22:22.298 +03:00 [DBG] Connection id "0HN7ERP0UGAMR" received FIN.
2024-10-17 23:22:22.315 +03:00 [DBG] Connection id "0HN7ERP0UGAMR" accepted.
2024-10-17 23:22:22.318 +03:00 [DBG] Connection id "0HN7ERP0UGAMR" started.
2024-10-17 23:22:22.329 +03:00 [DBG] Connection id "0HN7ERP0UGAMS" accepted.
2024-10-17 23:22:22.341 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 23:22:22.343 +03:00 [DBG] Connection id "0HN7ERP0UGAMS" started.
2024-10-17 23:22:22.352 +03:00 [DBG] Connection id "0HN7ERP0UGAMR" stopped.
2024-10-17 23:22:22.359 +03:00 [DBG] Connection id "0HN7ERP0UGAMR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 23:22:22.369 +03:00 [DBG] Connection 0HN7ERP0UGAMS established using the following protocol: "Tls12"
2024-10-17 23:22:22.375 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/files/1?api-version=0.1 - null null
2024-10-17 23:22:22.382 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 23:22:22.388 +03:00 [DBG] 1 candidate(s) found for the request path '/api/files/1'
2024-10-17 23:22:22.391 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)' with route pattern 'api/files/{fileId}' is valid for the request path '/api/files/1'
2024-10-17 23:22:22.395 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2024-10-17 23:22:22.399 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 23:22:22.403 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2024-10-17 23:22:22.410 +03:00 [INF] Route matched with {action = "GetFile", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetFile(System.String) on controller CityInfo.API.Controllers.FilesController (CityInfo.API).
2024-10-17 23:22:22.415 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 23:22:22.418 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 23:22:22.423 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 23:22:22.428 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 23:22:22.431 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 23:22:22.440 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.FilesController (CityInfo.API)
2024-10-17 23:22:22.444 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.FilesController (CityInfo.API)
2024-10-17 23:22:22.447 +03:00 [DBG] Attempting to bind parameter 'fileId' of type 'System.String' ...
2024-10-17 23:22:22.455 +03:00 [DBG] Attempting to bind parameter 'fileId' of type 'System.String' using the name 'fileId' in request data ...
2024-10-17 23:22:22.459 +03:00 [DBG] Done attempting to bind parameter 'fileId' of type 'System.String'.
2024-10-17 23:22:22.462 +03:00 [DBG] Done attempting to bind parameter 'fileId' of type 'System.String'.
2024-10-17 23:22:22.465 +03:00 [DBG] Attempting to validate the bound parameter 'fileId' of type 'System.String' ...
2024-10-17 23:22:22.477 +03:00 [DBG] Done attempting to validate the bound parameter 'fileId' of type 'System.String'.
2024-10-17 23:22:22.483 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-17 23:22:22.492 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-17 23:22:22.516 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2024-10-17 23:22:22.522 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-17 23:22:22.576 +03:00 [INF] Executed action CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API) in 135.5202ms
2024-10-17 23:22:22.579 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2024-10-17 23:22:22.582 +03:00 [DBG] Connection id "0HN7ERP0UGAMS" completed keep alive response.
2024-10-17 23:22:22.585 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/files/1?api-version=0.1 - 404 226 application/problem+xml; charset=utf-8 210.6813ms
2024-10-17 23:25:30.105 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-17 23:25:30.338 +03:00 [DBG] Hosting starting
2024-10-17 23:25:30.399 +03:00 [INF] User profile is available. Using 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-17 23:25:30.419 +03:00 [DBG] Reading data from file 'C:\Users\malek\AppData\Local\ASP.NET\DataProtection-Keys\key-573d0b7a-d151-4033-9d63-538e85749fc6.xml'.
2024-10-17 23:25:30.443 +03:00 [DBG] Found key {573d0b7a-d151-4033-9d63-538e85749fc6}.
2024-10-17 23:25:30.469 +03:00 [DBG] Considering key {573d0b7a-d151-4033-9d63-538e85749fc6} with expiration date 2025-01-12 18:31:59Z as default key.
2024-10-17 23:25:30.483 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 23:25:30.491 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-17 23:25:30.496 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-17 23:25:30.511 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-17 23:25:30.520 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-17 23:25:30.526 +03:00 [DBG] Using key {573d0b7a-d151-4033-9d63-538e85749fc6} as the default key.
2024-10-17 23:25:30.533 +03:00 [DBG] Key ring with default key {573d0b7a-d151-4033-9d63-538e85749fc6} was loaded during application startup.
2024-10-17 23:25:30.946 +03:00 [INF] Now listening on: https://localhost:7206
2024-10-17 23:25:30.969 +03:00 [INF] Now listening on: http://localhost:5020
2024-10-17 23:25:30.992 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-10-17 23:25:31.001 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-17 23:25:31.017 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-17 23:25:31.020 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-17 23:25:31.234 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-17 23:25:31.237 +03:00 [INF] Hosting environment: Development
2024-10-17 23:25:31.241 +03:00 [INF] Content root path: E:\Coding\.NET\CityInfo\CityInfo.API
2024-10-17 23:25:31.244 +03:00 [DBG] Hosting started
2024-10-17 23:25:39.517 +03:00 [DBG] Connection id "0HN7ET7ES81D6" received FIN.
2024-10-17 23:25:39.531 +03:00 [DBG] Connection id "0HN7ET7ES81D6" accepted.
2024-10-17 23:25:39.543 +03:00 [DBG] Connection id "0HN7ET7ES81D6" started.
2024-10-17 23:25:39.554 +03:00 [DBG] Connection id "0HN7ET7ES81D7" accepted.
2024-10-17 23:25:39.559 +03:00 [DBG] Connection id "0HN7ET7ES81D7" started.
2024-10-17 23:25:39.591 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-17 23:25:39.673 +03:00 [DBG] Connection id "0HN7ET7ES81D6" stopped.
2024-10-17 23:25:39.680 +03:00 [DBG] Connection id "0HN7ET7ES81D6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-17 23:25:39.701 +03:00 [DBG] Connection 0HN7ET7ES81D7 established using the following protocol: "Tls12"
2024-10-17 23:25:39.752 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7206/api/files/1?api-version=0.1 - null null
2024-10-17 23:25:39.771 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-17 23:25:39.824 +03:00 [DBG] The request path  does not match the path filter
2024-10-17 23:25:39.936 +03:00 [DBG] 1 candidate(s) found for the request path '/api/files/1'
2024-10-17 23:25:39.946 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)' with route pattern 'api/files/{fileId}' is valid for the request path '/api/files/1'
2024-10-17 23:25:39.963 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2024-10-17 23:25:40.076 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-17 23:25:40.082 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2024-10-17 23:25:40.119 +03:00 [INF] Route matched with {action = "GetFile", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetFile(System.String) on controller CityInfo.API.Controllers.FilesController (CityInfo.API).
2024-10-17 23:25:40.128 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-17 23:25:40.132 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-17 23:25:40.136 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 23:25:40.147 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-17 23:25:40.151 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-17 23:25:40.164 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.FilesController (CityInfo.API)
2024-10-17 23:25:40.169 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.FilesController (CityInfo.API)
2024-10-17 23:25:40.181 +03:00 [DBG] Attempting to bind parameter 'fileId' of type 'System.String' ...
2024-10-17 23:25:40.190 +03:00 [DBG] Attempting to bind parameter 'fileId' of type 'System.String' using the name 'fileId' in request data ...
2024-10-17 23:25:40.195 +03:00 [DBG] Done attempting to bind parameter 'fileId' of type 'System.String'.
2024-10-17 23:25:40.198 +03:00 [DBG] Done attempting to bind parameter 'fileId' of type 'System.String'.
2024-10-17 23:25:40.203 +03:00 [DBG] Attempting to validate the bound parameter 'fileId' of type 'System.String' ...
2024-10-17 23:25:40.216 +03:00 [DBG] Done attempting to validate the bound parameter 'fileId' of type 'System.String'.
2024-10-17 23:25:40.318 +03:00 [INF] Executing FileContentResult, sending file with download name 'securing-your-api-slides.pdf' ...
2024-10-17 23:25:40.332 +03:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-10-17 23:25:40.519 +03:00 [INF] Executed action CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API) in 351.6344ms
2024-10-17 23:25:40.529 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.FilesController.GetFile (CityInfo.API)'
2024-10-17 23:25:40.542 +03:00 [DBG] Connection id "0HN7ET7ES81D7" completed keep alive response.
2024-10-17 23:25:40.547 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7206/api/files/1?api-version=0.1 - 200 8572841 application/pdf 801.1459ms
